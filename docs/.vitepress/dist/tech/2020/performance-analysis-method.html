<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>在瀑布下用火焰烤饼：三步法助你快速定位网站性能问题 | Kagol</title>
    <meta name="description" content="卡哥博客, 卡哥, 卡哥的博客, 前端卡哥, 前端Kagol, 前端kagol, Kagol 博客, Kagol博客, kagol 博客, kagol博客, Kagol blog, Kagol blogs, kagol-blogs, kagol-blog, Kagol, kagol, 前端开源星球, 前端, Web, UI, Front end, front-end, frontend, 开源, Open Source, opensource, open-source, Vue, vue, JavaScript, javascript, JS, TypeScript, typescript, TS, 前端组件库, Component toolkit, Component library, Component, component, component-library, component-toolkit, 富文本编辑器, Rich text editor, rich-text-editor, rich-text, wysiwyg, wysiwyg-editor">
    <link rel="preload stylesheet" href="/blogs/assets/style.ef204584.css" as="style">
    <script type="module" src="/blogs/assets/app.500da259.js"></script>
    <link rel="preload" href="/blogs/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/blogs/assets/chunks/framework.1fee3549.js">
  <link rel="modulepreload" href="/blogs/assets/chunks/theme.2bed5bbe.js">
  <link rel="modulepreload" href="/blogs/assets/tech_2020_performance-analysis-method.md.7ff2aaa7.lean.js">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-99cf8a88><!--[--><!--]--><!--[--><span tabindex="-1" data-v-ae3e3f51></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-ae3e3f51> Skip to content </a><!--]--><!----><header class="VPNav" data-v-99cf8a88 data-v-7e5bc4a5><div class="VPNavBar has-sidebar" data-v-7e5bc4a5 data-v-381568bf><div class="container" data-v-381568bf><div class="title" data-v-381568bf><div class="VPNavBarTitle has-sidebar" data-v-381568bf data-v-305adf00><a class="title" href="/blogs/" data-v-305adf00><!--[--><!--]--><!----><!--[-->Kagol<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-381568bf><div class="curtain" data-v-381568bf></div><div class="content-body" data-v-381568bf><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-381568bf><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-381568bf data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/blogs/tech/overview.html" tabindex="0" data-v-7f418b0f data-v-5e623618><!--[-->技术<!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blogs/open-source/overview.html" tabindex="0" data-v-7f418b0f data-v-5e623618><!--[-->开源<!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-381568bf data-v-f6a63727><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-f6a63727 data-v-82b282f1 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-82b282f1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-82b282f1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-381568bf data-v-40855f84 data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-764effdf><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-764effdf><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-40855f84><div class="item appearance" data-v-40855f84><p class="label" data-v-40855f84>Appearance</p><div class="appearance-action" data-v-40855f84><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-40855f84 data-v-82b282f1 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-82b282f1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-82b282f1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-381568bf data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-99cf8a88 data-v-a97031cc><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a97031cc><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-a97031cc><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-a97031cc>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a97031cc data-v-687955bc><button data-v-687955bc>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-99cf8a88 data-v-54885d6c><div class="curtain" data-v-54885d6c></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-54885d6c><span class="visually-hidden" id="sidebar-aria-label" data-v-54885d6c> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0 collapsible has-active" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>前端</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2020/rollup-practice.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>手把手教你使用 Rollup 打包并发布自己的工具库📦</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2020/performance-analysis-method.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>在瀑布下用火焰烤饼：三步法助你快速定位网站性能问题</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2020/html2canvas-principle.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>html2canvas 实现浏览器截图的原理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/build-a-browser-engine.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>让我们来构建一个浏览器引擎吧</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/asynchronous-interface-request.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>如何解决异步接口请求快慢不均导致的数据错误问题？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/angular-routing-lazy-loading.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>Angular 路由：懒加载、守卫、动态参数</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2020/front-end-mock-data.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>前端有了这两样神器，再也不用追着后台要接口啦</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/monorepo-angular.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>Monorepo 初体验：将现有的 NG CLI 工程改造成 Monorepo 方式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2022/vue-eslint.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>前端Vuer，请给你的项目加上 ESLint</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2016/getting-started-with-webpack.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>Webpack入门——使用Webpack打包Angular项目的一个例子</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2016/getting-started-with-backbone.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>Backbone入门</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2016/array-deduplication-algorithm.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>使用JavaScript进行数组去重——一种高效的算法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2016/angular-spa.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>使用Angular构建单页面应用(SPA)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2017/thinking-z-index.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>z-index 失效原因分析：由一个 bug 引发的对层叠上下文和 z-index 属性的深度思考</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2017/how-browser-works.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>浏览器内部工作原理</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0 collapsible collapsed" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>Vue</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2022/why-did-you-choose-vue.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>老板：你为什么要选择 Vue？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2023/typescript-vue.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>TypeScript 基础及在 Vue 中的实践</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/getting-started-with-vue.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>点线面Vue3：先跑起来再说！</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/vue3-template-syntax.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>点线面Vue3：把模板语法这条线串起来！</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2022/jsx-concise-syntax-in-vue3.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>前端Vuer，请收下这份《Vue3中使用JSX简明语法》</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2023/unit-testing-guide-for-vue-components.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>前端Vuer，请收好这份《Vue组件单元测试》宝典，给自己多一些安全感</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0 collapsible collapsed" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>组件库建设</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2019/building-block-theory.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>前端开发的积木理论——像搭积木一样做前端开发</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2022/building-block-theory-develop-carousel.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>用积木理论设计一个灵活好用的Carousel走马灯组件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2022/carousel-indicator-component.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>CarouseIndicator 组件应用：0行JS代码实现好看的手风琴式折叠卡片效果</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2022/carousel-component.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>用积木理论设计的Carousel组件都有哪些有趣的玩法？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2019/date-picker-component.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>DatePicker 日期选择组件的实现</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2020/develop-pagination-component-using-vue-react-angular.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>手把手教你使用Vue/React/Angular三大框架开发Pagination分页组件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2022/cdk-tree.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>从 CDK Tree 源码学习如何开发一个UI无关的 Tree 组件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/0-to-1-build-vue-component-library-1.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>从0到1搭建Vue组件库01：提交我的第一次 PR</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/0-to-1-build-vue-component-library-2.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>从0到1搭建Vue组件库02：实现一个能渲染多层节点的 Tree 组件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/0-to-1-build-vue-component-library-3.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>从0到1搭建Vue组件库03：如何给 tree 组件增加展开/收起功能</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/0-to-1-build-vue-component-library-4.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>从0到1搭建Vue组件库04：使用 Vite 搭建一个支持 TypeScript / JSX 的 Vue3 组件库工程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/0-to-1-build-vue-component-library-5.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>从0到1搭建Vue组件库05：给 Vue3 组件库添加 VitePress 文档系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/0-to-1-build-vue-component-library-6.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>从0到1搭建Vue组件库06：手把手带你开发一个脚手架</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/0-to-1-build-vue-component-library-7.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>从0到1搭建Vue组件库07：给组件库项目增加单元测试</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/0-to-1-build-vue-component-library-8.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>从0到1搭建Vue组件库08：阶段性小结</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/0-to-1-build-vue-component-library-9.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>从0到1搭建Vue组件库09：Monorepo改造</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/0-to-1-build-vue-component-library-10.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>从0到1搭建Vue组件库10：如何实现组件的按需打包📦</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/0-to-1-build-vue-component-library-11.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>从0到1搭建Vue组件库11：实现tree组件禁止展开/收起、点选高亮和节点禁用功能</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/0-to-1-build-vue-component-library-12.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>从0到1搭建Vue组件库12：实现tree组件自定义图标和节点勾选功能</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0 collapsible collapsed" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>富文本编辑器</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2020/quill-modularization-principle.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>现代富文本编辑器Quill的模块化机制</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2020/quill-rendering-principle.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>现代富文本编辑器Quill的内容渲染机制</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/quill-practice.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>Quill 富文本编辑器的实践</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/rich-text-editor-insert-dragon.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>如何将龙插入到编辑器中？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/rich-text-editor-insert-snake-game.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>今天是儿童节，整个贪吃蛇到编辑器里玩儿吧</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/quill-basic.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>深入浅出Quill：Quill基本使用和配置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/quill-api.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>深入浅出Quill：通过 Quill API 实现对编辑器内容的完全控制</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-54885d6c><section class="VPSidebarItem level-0 collapsible collapsed" data-v-54885d6c data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>前端之外</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2020/git-undo-redo.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>使用Git，10件你可能需要“反悔”的事</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2020/automate-deployment-of-web-applications.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>大厂是如何用DevCloud流水线实现自动化部署Web应用的？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2021/git-bisect.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>利用好 git bisect 这把利器，帮助你快速定位疑难 bug</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2019/a-way-to-realize-complex-state-machine.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>实现复杂状态机的一种思路</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2018/nginx-https.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>Nginx配置HTTPS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2016/mongodb-to-mysql.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>如何将MongoDB数据库的数据迁移到MySQL数据库中</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2016/linux-apache.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>Linux下服务器环境的搭建和配置之一——Apache篇</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2016/nodejs-mongoose.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>Node使用Mongoose操作MongoDB数据库——增删改查的实现</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2016/summary-create-public-welfare-24-hour.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>2016腾讯"创益24小时"互联网公益创新大赛总结</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/blogs/tech/2020/how-to-quantify-front-end-goals.html" data-v-c4656e6d><!--[--><p class="text" data-v-c4656e6d>立完flag，你可能需要对flag进行量化</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-99cf8a88 data-v-97b5189c><div class="VPDoc has-sidebar has-aside" data-v-97b5189c data-v-e9631fd0><!--[--><!--]--><div class="container" data-v-e9631fd0><div class="aside" data-v-e9631fd0><div class="aside-curtain" data-v-e9631fd0></div><div class="aside-container" data-v-e9631fd0><div class="aside-content" data-v-e9631fd0><div class="VPDocAside" data-v-e9631fd0 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-3f215769 data-v-ff0f39c8><div class="content" data-v-ff0f39c8><div class="outline-marker" data-v-ff0f39c8></div><div class="outline-title" data-v-ff0f39c8>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-ff0f39c8><span class="visually-hidden" id="doc-outline-aria-label" data-v-ff0f39c8> Table of Contents for current page </span><ul class="root" data-v-ff0f39c8 data-v-b0ff2abe><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e9631fd0><div class="content-container" data-v-e9631fd0><!--[--><!--]--><!----><main class="main" data-v-e9631fd0><div style="position:relative;" class="vp-doc _blogs_tech_2020_performance-analysis-method" data-v-e9631fd0><div><h1 id="在瀑布下用火焰烤饼-三步法助你快速定位网站性能问题" tabindex="-1">在瀑布下用火焰烤饼：三步法助你快速定位网站性能问题 <a class="header-anchor" href="#在瀑布下用火焰烤饼-三步法助你快速定位网站性能问题" aria-label="Permalink to &quot;在瀑布下用火焰烤饼：三步法助你快速定位网站性能问题&quot;">​</a></h1><p><img src="https://user-images.githubusercontent.com/9566362/201153043-57f29d9e-b9a5-478a-9586-e4ef601caa2f.png" alt="image"></p><h2 id="引言" tabindex="-1">引言 <a class="header-anchor" href="#引言" aria-label="Permalink to &quot;引言&quot;">​</a></h2><p>性能，是一个问题。</p><p>每个项目成长到一定的规模，都几乎必然要遇到性能问题，当遇到性能问题时，我们是：</p><blockquote><p>一脸懵逼，就知道很卡、很慢，不知道为什么</p></blockquote><p>还是</p><blockquote><p>能够快速洞察性能瓶颈，找到行之有效的优化方案</p></blockquote><p>取决于我们对性能的理解深浅，以及是否有一套好的工具和方法。</p><p>接下来给大家分享我自己在定位业务性能问题时常用的三步法，为了方便记忆，我把它总结为一句话：</p><blockquote><p>在瀑布下用火焰烤饼</p></blockquote><p>话不多说，喝口水直接开撸！</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/85b70bab2d344a27b525f24f47b84b11~tplv-k3u1fbpfcp-watermark.image" alt=""></p><h2 id="performance-面板简介" tabindex="-1">Performance 面板简介 <a class="header-anchor" href="#performance-面板简介" aria-label="Permalink to &quot;Performance 面板简介&quot;">​</a></h2><p>介绍三步法之前，先来简单了解下Chrome开发者工具的Performance性能面板，以及性能分析报告的基本组成。</p><h3 id="生成性能分析报告" tabindex="-1">生成性能分析报告 <a class="header-anchor" href="#生成性能分析报告" aria-label="Permalink to &quot;生成性能分析报告&quot;">​</a></h3><p>以DevUI团队的掘金个人主页为例，使用Chrome浏览器访问：<a href="https://juejin.cn/user/712139267650141" target="_blank" rel="noreferrer">https://juejin.cn/user/712139267650141</a></p><p>然后按F12打开Chrome的开发者工具，选择Performance性能面板。</p><p>这时我们会看到一个简单的指引：</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/df4ae1be8e02485798f49350f7e57399~tplv-k3u1fbpfcp-watermark.image" alt=""></p><p>指引里面有两个按钮，上面的按钮是手动录制，下面的是自动录制，我们点击傻瓜式的自动录制，自动录制会自动刷新页面，在页面加载完成之后，生成该页面的性能分析报告，无需人工干预，非常方便。</p><p>等个几秒钟报告就生成好了，一眼看去，花花绿绿的，不知道从何看起？</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/df59c1504dff4751a0e6e7898022f4c4~tplv-k3u1fbpfcp-watermark.image" alt=""></p><h3 id="性能报告的组成" tabindex="-1">性能报告的组成 <a class="header-anchor" href="#性能报告的组成" aria-label="Permalink to &quot;性能报告的组成&quot;">​</a></h3><p>我们对生成的性能分析报告做一个简单的面板分类，看起来就很清晰了。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/26b68ba524b14e949355a3f57ba7aecb~tplv-k3u1fbpfcp-watermark.image" alt=""></p><h4 id="工具栏" tabindex="-1">工具栏 <a class="header-anchor" href="#工具栏" aria-label="Permalink to &quot;工具栏&quot;">​</a></h4><p>性能报告的顶部是一个工具栏（或者叫控制面板），里面有一堆按钮，我这边用得比较多的是前面三个，其中前两个在指引里已经介绍过了，第三个是用来清除报告的。</p><p>还有两个隐藏的功能也很有用，一个是模拟慢网速的，另一个是模拟慢CPU的，对移动端应用做性能优化可能会用到。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f847a37efac64d15a6e379f76df43b2b~tplv-k3u1fbpfcp-watermark.image" alt=""></p><h4 id="概览面板" tabindex="-1">概览面板 <a class="header-anchor" href="#概览面板" aria-label="Permalink to &quot;概览面板&quot;">​</a></h4><p>工具栏下面是一个概览面板，显示了整个页面加载过程中的FPS（Frames Per Second，每秒传输帧数），用来评估页面的流畅度，有大片红色说明页面可能存在卡顿。</p><p>FPS下面是CPU处理各个任务花费的时间，再往下是网络请求的耗时，概览面板最下面是每一帧的截图。</p><h4 id="线程面板" tabindex="-1">线程面板 <a class="header-anchor" href="#线程面板" aria-label="Permalink to &quot;线程面板&quot;">​</a></h4><p>概览面板往下是线程面板，默认展开的是网络请求瀑布图，其他线程的详情都是收起的。</p><p>每个线程面板对性能分析都有价值，而我最常用的是瀑布图和火焰图，后面会重点分析这两个图，如何利用这两张图来分析网站的性能瓶颈。</p><h4 id="内存面板" tabindex="-1">内存面板 <a class="header-anchor" href="#内存面板" aria-label="Permalink to &quot;内存面板&quot;">​</a></h4><p>再往下是内存面板，内存面板需要在控制面板中手动打开，它是一个分类的内存占用折线图。</p><p>每条折线是一种任务随时间推移的内存占用：</p><ul><li>JS堆栈</li><li>文档</li><li>HTML节点</li><li>事件监听</li><li>GPU内存</li></ul><h4 id="详情面板" tabindex="-1">详情面板 <a class="header-anchor" href="#详情面板" aria-label="Permalink to &quot;详情面板&quot;">​</a></h4><p>最下面是详情面板，首先看到的是一个饼图，这个饼图显示了各种类型任务的占比，这个非常有用，能否一眼看出什么类型的任务是性能瓶颈。</p><p>是资源加载还是脚本执行？是页面渲染还是图像绘制？又或者是空闲时间太长？</p><h2 id="第一步-看饼图" tabindex="-1">第一步：看饼图 <a class="header-anchor" href="#第一步-看饼图" aria-label="Permalink to &quot;第一步：看饼图&quot;">​</a></h2><p>刚才介绍Performance面板的组成时，提到了3个非常有用的性能分析利器，分别是<code>详情饼图</code>、<code>请求瀑布图</code>和<code>主线程火焰图</code>。</p><p>我把这三张图总结成一句话：</p><blockquote><p>在瀑布下用火焰烤饼</p></blockquote><p>这句话也是我自己在做性能分析和优化时，屡试不爽的小技巧。</p><p>详情面板中的饼图用于展示各种类型任务的耗时占比。</p><p>主要有以下几种任务：</p><ul><li>蓝色是资源加载</li><li>黄色是脚本执行</li><li>紫色是页面渲染</li><li>绿色是图形绘制</li><li>白色是空闲时间</li></ul><p>还是举刚才的例子。</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9b6969cf9d9f4540bfd55ef8460e1acb~tplv-k3u1fbpfcp-watermark.image" alt=""></p><p>从饼图可以看出占比最多的是<code>脚本执行</code>和<code>空闲</code>。</p><p>脚本执行时间长，我们大概可以猜测里面可能存在长任务（Long task）;</p><p>而空闲占比多可能是等待服务器的响应时间太长。</p><p>饼图可以快速形成基本的判断，而具体原因则需要分析瀑布图和火焰图。</p><h2 id="第二步-看瀑布图" tabindex="-1">第二步：看瀑布图 <a class="header-anchor" href="#第二步-看瀑布图" aria-label="Permalink to &quot;第二步：看瀑布图&quot;">​</a></h2><p>我们来看下请求瀑布图，瀑布图和火焰图都是线程面板的一部分，瀑布图的横轴是时间轴，瀑布图上有很多五颜六色的色块，这些色块就是<code>请求块</code>，每种颜色代表一类资源：</p><ul><li>蓝色是HTML文件</li><li>紫色是CSS文件</li><li>黄色是JavaScript文件</li><li>绿色是图片</li><li>灰色是后台接口</li></ul><p>我们主要关注那些<code>长色块</code>，长色块意味着耗时长，可能是性能瓶颈。</p><p>还是看下掘金个人主页的瀑布图。</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8a36050601ea4e57adfe2910f26cb457~tplv-k3u1fbpfcp-watermark.image" alt=""></p><h3 id="总结瀑布图的特点" tabindex="-1">总结瀑布图的特点 <a class="header-anchor" href="#总结瀑布图的特点" aria-label="Permalink to &quot;总结瀑布图的特点&quot;">​</a></h3><p>我们先观察这张图有什么特点，图形观察能力，相信大家小学就已经培养起来了，大致我们可以总结出以下比较明显的特点：</p><ul><li>特点一：大瀑布被分成三个小瀑布</li><li>特点二：最左边的小瀑布大部分都是黄色色块，中间的小瀑布大部分是灰色色块，最右边的小瀑布大部分是绿色色块</li><li>特点三：前两个瀑布之间有一段间距，中间什么色块都没有</li><li>特点四：后两个瀑布被一个灰色色块的“尾巴”连在了一起</li><li>特点五：顶部有一个超长的灰色色块</li></ul><p>类似的特点我们还可以总结出很多来，但是这些特点说明了什么呢？能否帮助我们定位性能瓶颈呢？</p><p>回答这些问题需要我们对瀑布图以及浏览器原理有很多的认识，我们一步步来分析吧。</p><h3 id="分析瀑布图的含义" tabindex="-1">分析瀑布图的含义 <a class="header-anchor" href="#分析瀑布图的含义" aria-label="Permalink to &quot;分析瀑布图的含义&quot;">​</a></h3><p>我们按从左到右，从上到下的顺序进行分析，最左边有两个色块，一个灰色色块，一个蓝色色块，我们分别点击这两个色块，在详情面板看下它们的详情信息。</p><p>先看灰色色块 <img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/290be79443c0404ebf4b813c1ef5401d~tplv-k3u1fbpfcp-watermark.image" alt=""></p><p>我们有注意到这个请求的启动器（Initiator）是一个Chrome插件：<a href="chrome://new-tab-page/omnibox.mojom-lite.js" target="_blank" rel="noreferrer">chrome://new-tab-page/omnibox.mojom-lite.js</a></p><p>因此我们不关注，接着看蓝色色块 <img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ad291ed132794851965f3e0b54b89ef5~tplv-k3u1fbpfcp-watermark.image" alt=""></p><p>前面我们已经介绍了，蓝色色块代表HTML文件，我们从详情的<code>Mime Type</code>为<code>text/html</code>也可以验证这一点。</p><p>我们滚动鼠标滚轮，把这个瀑布图放大，看这个蓝色请求块的细节</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/15437f73032e451bb120ab81c8ffa33e~tplv-k3u1fbpfcp-watermark.image" alt=""></p><h4 id="请求块的组成" tabindex="-1">请求块的组成 <a class="header-anchor" href="#请求块的组成" aria-label="Permalink to &quot;请求块的组成&quot;">​</a></h4><p>通过查看细节图，我们有了新的发现：</p><blockquote><p>每个请求块都由四部分组成：</p><ol><li>左侧线：代表请求发送之前的时间（Before Request Sent）</li><li>浅色块：代表请求已经发送（Request Sent），直到服务器返回第一个字节给浏览器（TTFB, Time to First Byte）</li><li>深色块：服务器返回的内容全部下载到浏览器（Content Download）</li><li>右侧线：等待主线程处理（Waiting for main thread）</li></ol></blockquote><p>这个HTML文件是整个网页渲染的起点，成功请求并下载这个文件，才会有接下来的故事。</p><p>这个请求块的浅色块部分占比比较大，根据前面的介绍，浅色部分代表的是服务器的响应速度，浏览器已经早早地发出了请求，服务器却迟迟才给回应（第一个字节到达浏览器）。</p><p>中间可能是网络慢，也可能是服务器处理速度慢，需要具体排查，毕竟这个HTML文件不算大，才111KBb，却花了179ms。</p><p>对比另外一个文件layouts.default.js，体积比它大124KB，请求耗时却比它小一半多，才74ms。（后来发现这个数据不稳定，这个HTML文件应该不至于构成性能瓶颈）</p><p>另外所有后续的请求都依赖于这个HTML，没有它其他请求都不会发生，它是一个阻塞请求，性能必须要有保障。</p><h4 id="发现可能的性能瓶颈" tabindex="-1">发现可能的性能瓶颈 <a class="header-anchor" href="#发现可能的性能瓶颈" aria-label="Permalink to &quot;发现可能的性能瓶颈&quot;">​</a></h4><p>我们继续看右边的请求块，顶部那个超长的灰色块依然是Chrome插件的请求，我们不管，看下面那一堆黄色的请求块，这些都是JavaScript文件。</p><p>HTML文件下载完了之后，就会开始一行一行解析其中的HTML标签，遇到设置了谁、<code>src</code>属性的<code>&lt;script&gt;</code>标签，就会去下载src指定的JavaScript脚本文件。</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fcb156ff079249a9b173e86d81f993a5~tplv-k3u1fbpfcp-watermark.image" alt=""></p><p>从瀑布图可以看出，一共并行下载了8个JavaScript文件，它们的域名都是一样的：<code>sf1-scmcdn2-tos.pstatp.com</code></p><p>不是说Chrome浏览器对同一个域名，并行的请求数最大是6个吗？</p><p>不仅仅是JavaScript文件，下面还有3个同域名的图片资源，也是在并行请求的，也就是说几乎同时发起了11个请求。</p><p>这说明</p><blockquote><p>掘金的静态资源服务器升级到了HTTP/2</p></blockquote><p>HTTP/2的多路复用可以实现一个TCP连接同时传输多个资源。</p><p>我们到Network面板里去看下这些JavaScript的请求详情，果然和我们猜测的一致，这一点必须给掘金点个赞👍</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b46bad97b1cf46388eae69c2c8cb28ee~tplv-k3u1fbpfcp-watermark.image" alt=""></p><p>发一个某86网站和掘金的对比图，大家感受一下</p><p>某86网站： <img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6bf78ab7422d4334b013439ee622c40b~tplv-k3u1fbpfcp-watermark.image" alt=""></p><p>掘金： <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/775b17cfce0e4100a777f3b2e03019c6~tplv-k3u1fbpfcp-watermark.image" alt=""></p><blockquote><p>虽然前者更像一个瀑布，但是我喜欢后者丝滑般的体验。</p></blockquote><p>我们再来仔细看这8个请求，相信细致的你一定发现了一个现象：</p><blockquote><ol><li>它们的共同点除了刚才提到的域名一样外，这些请求块的左右线都很短</li><li>有三个特别长的请求块，分别是1/5/8，需要格外关注</li></ol></blockquote><p>请求块的左右线都非常短是一个好现象，说明没有什么等待时间，所有时间都用在了传输数据上。</p><p>我们分别点击1/5/8请求块看它们的详情</p><table><thead><tr><th>请求块</th><th>详情</th></tr></thead><tbody><tr><td>1</td><td>大小：4KB<br>耗时：635ms</td></tr><tr><td>5</td><td>大小：90KB<br>耗时：635ms</td></tr><tr><td>8</td><td>大小：3.9MB<br>耗时：633ms</td></tr></tbody></table><p>这非常奇怪，1/5的资源大小和8的不在一个量级上，耗时却比8还多。</p><p>为了确定这是偶然的，还是必然的，我又录制了两次这个掘金个人主页的性能报告</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b1bfaa13151943e3aebffe2984382496~tplv-k3u1fbpfcp-watermark.image" alt=""></p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6af7f771beb142ddaf2edeb9766c4ecf~tplv-k3u1fbpfcp-watermark.image" alt=""></p><p>这次和预期的基本一致，8耗时比其他都长，这个JavaScript文件3.9MB，太大了，很可能是性能瓶颈。</p><h4 id="其他" tabindex="-1">其他 <a class="header-anchor" href="#其他" aria-label="Permalink to &quot;其他&quot;">​</a></h4><p>让我们继续往下分析，黄色JavaScript色块下面一共有三种颜色的色块：</p><ul><li>紫色：CSS样式文件</li><li>绿色：图片文件</li><li>灰色：字体文件（大小为189KB）</li></ul><p>这几个文件体积都不大，并且通过多次生成性能报告，发现这几个请求耗时都不如第8个JavaScript文件长，所以初步判断这些请求不构成性能瓶颈。</p><p>接着看中间那个瀑布，通过多次生成性能报告，发现中间瀑布并没有什么特别耗时的请求，不过不管生成多少次报告，有一点是确定的，就是</p><blockquote><p>这三个瀑布之间总是有些空白</p></blockquote><p>这些空白到底说明了什么呢？</p><p>看完火焰图，相信你就会豁然开朗。</p><h2 id="第三步-看火焰图" tabindex="-1">第三步：看火焰图 <a class="header-anchor" href="#第三步-看火焰图" aria-label="Permalink to &quot;第三步：看火焰图&quot;">​</a></h2><p>在看正式的火焰图之前，先来看一个瀑布图和火焰图放在一起的效果</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b6b4db8b54ea46a29e68c37b121813b8~tplv-k3u1fbpfcp-watermark.image" alt=""></p><p>看完这张瀑布和火焰的对比图，你一定看出了一个现象</p><blockquote><p>瀑布图有空白的地方，火焰图就有颜色； <br> 瀑布图有颜色的地方，火焰图就是空白。</p></blockquote><p>But Why?</p><p>要回答这个问题需要了解浏览器主线程执行任务的原理，以及火焰图是做什么的，别着急，让我们一步步来分析。</p><h3 id="火焰图是什么" tabindex="-1">火焰图是什么 <a class="header-anchor" href="#火焰图是什么" aria-label="Permalink to &quot;火焰图是什么&quot;">​</a></h3><p>火焰图也是线程面板的一部分，它代表的是浏览器主线程的任务流：</p><blockquote><p>随着页面的加载，时间的推移，主线程依次做了什么事儿</p></blockquote><p>火焰图的横轴是时间，纵轴是一个个的宏任务。</p><p>每个宏任务下面若干个微任务，每个微任务下面有可能有很多子任务，依次类推。</p><p>由于有些任务的嵌套层级深，有些嵌套层级浅，所以呈现倒立的火焰状。</p><p>每种类型的任务颜色都不一样（无需记忆，有个大致的印象即可）：</p><ul><li>解析HTML Parse HTML：蓝色</li><li>解析样式 Parse Stylesheet：蓝色</li><li>评估脚本 Evaluate Script：黄色</li><li>重新计算样式 Recalculate Style：深紫色</li><li>绘制 Paint：深绿色</li><li>执行微任务 Microtasks：黄色</li><li>Ajax请求 XHR Load：黄色</li><li>函数调用 Function Call：黄色</li><li>触发定时器 Timer Fired：黄色</li></ul><p>还是先大概看下掘金个人主页的火焰图</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8628b108e00743b8bd21cd73f90ec79a~tplv-k3u1fbpfcp-watermark.image" alt=""></p><h3 id="总结火焰图的特点" tabindex="-1">总结火焰图的特点 <a class="header-anchor" href="#总结火焰图的特点" aria-label="Permalink to &quot;总结火焰图的特点&quot;">​</a></h3><p>然后用我们小学就学会的<code>看图找规律</code>的技能，找到这个图有什么特点，大致扫一眼，我们就能总结出至少以下几个特点：</p><ul><li>特点一：总的来看两边是空白，中间有三个大火焰</li><li>特点二：两边的两个大火焰正好对应瀑布图的两个空白（这就解释了为什么瀑布图的三个小瀑布之间有空白）</li><li>特点三：有些宏任务特别长，并且背景色是红色的阴影线（而不是灰色）、右上角有一个红色的小三角形</li></ul><p>多花点时间，可能我们还能有更多的发现，不过这几个是最显而易见的。</p><p>为了回答这些问题，我们需要近距离观察下火焰图。</p><h3 id="分析火焰图的含义" tabindex="-1">分析火焰图的含义 <a class="header-anchor" href="#分析火焰图的含义" aria-label="Permalink to &quot;分析火焰图的含义&quot;">​</a></h3><p>既然火焰图代表主线程每个时间点都在干嘛，那么空白自然就意味着主线程没在干活，那么，它在干嘛呢？</p><blockquote><p>它在等待</p></blockquote><p>等待什么呢？</p><blockquote><p>等待服务器返回一些必要的资源和数据</p></blockquote><p>所以</p><blockquote><p>火焰图的空白处都是浏览器在等待服务器返回数据</p></blockquote><h4 id="寻找长任务" tabindex="-1">寻找长任务 <a class="header-anchor" href="#寻找长任务" aria-label="Permalink to &quot;寻找长任务&quot;">​</a></h4><p>在所有主线程执行的任务中，我们尤其需要关注的是那些耗时特别长的长任务（Long task），这些长任务的特点前面已经说了：</p><blockquote><p>背景色是红色的阴影线<br> 右上角有一个红色的小三角形</p></blockquote><p>三个长任务1s钟就找到了</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/96b9784630bf40cc8666b482ad3e96c6~tplv-k3u1fbpfcp-watermark.image" alt=""></p><h4 id="分析长任务" tabindex="-1">分析长任务 <a class="header-anchor" href="#分析长任务" aria-label="Permalink to &quot;分析长任务&quot;">​</a></h4><p>接下来是分析长任务，找到耗时长的具体模块/组件/方法。</p><p>我们把最右边最大的那个火焰放大，看看里面到底有些什么秘密。</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b57c374140164b0db16ccbc33df04a5d~tplv-k3u1fbpfcp-watermark.image" alt=""></p><p>放大之后，我们很快就发现这个耗时591ms的长任务，有90%的时间都花费在了一个叫<code>init</code>的方法上，这个方法一共执行了6次，其中3/4/6耗时尤其长</p><table><thead><tr><th>第n个init方法</th><th>详情</th></tr></thead><tbody><tr><td>3</td><td>耗时：197ms</td></tr><tr><td>4</td><td>耗时：93ms</td></tr><tr><td>6</td><td>耗时：111ms</td></tr></tbody></table><p>这个init方法到底是做什么的呢？</p><p>可能是挂在Vue组件的，会不会是有些组件特别大，里面的逻辑太复杂，这里需要掘金的前端给出答案。</p><p>再看下左边那个第二大的火焰，同样滚动鼠标滚轮把它放大</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/531975d1d5ae4247a2b0a6a77fea01aa~tplv-k3u1fbpfcp-watermark.image" alt=""></p><p>我们发现其中有一个forEach循环特别耗时，这个循环好像在计算什么东西，一共花了150ms。</p><p>这个依然需要看下具体的源码才能找到问题的根因。</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dcce04f337694bbba88f6dc1b1e4ec49~tplv-k3u1fbpfcp-watermark.image" alt=""></p><h3 id="通过火焰图发现性能瓶颈的案例" tabindex="-1">通过火焰图发现性能瓶颈的案例 <a class="header-anchor" href="#通过火焰图发现性能瓶颈的案例" aria-label="Permalink to &quot;通过火焰图发现性能瓶颈的案例&quot;">​</a></h3><p>最后给大家分享下我自己之前在XBoard看板项目中，通过火焰图发现一个依赖库的性能问题。</p><p>也是遵循一样的思路：</p><ol><li>找到长任务</li><li>将长任务的火焰图放大</li><li>一层层往下找，直到找到一个耗时长的有名字的方法（现网大部分代码被压缩混淆了，看不出名字，开发环境会更方便定位到存在性能问题的方法）</li><li>在火焰图中点击这个方法，看详情面板中Function后的链接，点击这个链接，直接跳转到相应文件中的指定方法中</li><li>在源码中搜索这个方法名字，找到它</li><li>寻找解决方案</li></ol><p>当时XBoard看板页有一堆长任务，我找了其中的TOP3</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/665fb2258bf9421e8c974da8a2b1fa80~tplv-k3u1fbpfcp-watermark.image" alt=""></p><p>然后将第一个长任务放大，很快就有了收获，我发现其中有一个叫<code>drawQrCode</code>的方法耗时比较长，一共花了192ms。</p><p>接着通过查看详情，发现这是一个依赖库的方法，该依赖库定义了一个drawQrCode用来绘制二维码，而这个二维码其实不在看板页面上，而是需要通过鼠标hover到某个按钮上才加载出来。</p><p>所以当时解决的方案就是延迟drawQrCode方法的执行，即：</p><blockquote><p>首页加载时，不执行drawQrCode方法，当鼠标移到相应按钮上时，才执行。</p></blockquote><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ab9e680a443b4aae970cbccf6edbb601~tplv-k3u1fbpfcp-watermark.image" alt=""></p><h3 id="瀑布图和火焰图的关系" tabindex="-1">瀑布图和火焰图的关系 <a class="header-anchor" href="#瀑布图和火焰图的关系" aria-label="Permalink to &quot;瀑布图和火焰图的关系&quot;">​</a></h3><blockquote><p>瀑布图和火焰图是相互补充、相互验证的关系。</p></blockquote><p>瀑布图代表浏览器发起向服务器的请求，然后浏览器根据服务器返回的数据，通过脚本执行相应的逻辑和页面的渲染。</p><p>当瀑布图有请求块时，说明浏览器在向服务器请求数据，如果浏览器必须依赖这些数据来做下一步的页面渲染，那么在服务器返回数据之前，很可能浏览器就没事干，然后火焰图上出现空白，饼图也会出现空闲（Idle）。</p><p>当浏览器拿到服务器返回的数据时，主线程正在处理这些数据，并渲染页面，因此很可能就没法向服务器发请求，这时瀑布图就会出现空白。</p><p>所以</p><blockquote><ol><li>发现瀑布图出现空白，很可能存在长任务，需要找到具体的耗时方法，并进行优化<br></li><li>发现火焰图出现空白，很可能是某些后台接口慢或者存在超大静态资源，需要定位到慢的原因，并想办法优化</li></ol></blockquote><h2 id="小结" tabindex="-1">小结 <a class="header-anchor" href="#小结" aria-label="Permalink to &quot;小结&quot;">​</a></h2><p>本文先给大家简单介绍了如何生成网站的性能分析报告，以及这份报告的大致组成；</p><p>接着跟大家分享我自己在定位业务性能问题时，经常使用的三步法：在瀑布下用火焰烤饼；</p><p>从饼图中我们可以对网站的性能有一个大致的认识，从瀑布图快速地发现慢接口和大资源，而从火焰图中，我们可以细致地洞察到具体哪个模块/哪个组件/哪个方法可能成为性能瓶颈。</p><p>最后给大家推荐 Google 官方的性能评估指南： <a href="https://developers.google.com/web/tools/chrome-devtools/evaluate-performance" target="_blank" rel="noreferrer">https://developers.google.com/web/tools/chrome-devtools/evaluate-performance</a></p><div class="edit-info" title="阅读 4315 · 点赞 163 · 评论 22 · 收藏 187" data-v-38c17c14><div class="last-updated" data-v-38c17c14><p class="VPLastUpdated" data-v-38c17c14>发布时间：<time data-v-38c17c14>2020年12月12日 23:54</time></p></div></div></div></div></main><footer class="VPDocFooter" data-v-e9631fd0 data-v-face870a><!--[--><!--]--><!----><div class="prev-next" data-v-face870a><div class="pager" data-v-face870a><a class="pager-link prev" href="/blogs/tech/2020/rollup-practice.html" data-v-face870a><span class="desc" data-v-face870a>Previous page</span><span class="title" data-v-face870a>手把手教你使用 Rollup 打包并发布自己的工具库📦</span></a></div><div class="has-prev pager" data-v-face870a><a class="pager-link next" href="/blogs/tech/2020/html2canvas-principle.html" data-v-face870a><span class="desc" data-v-face870a>Next page</span><span class="title" data-v-face870a>html2canvas 实现浏览器截图的原理</span></a></div></div></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-99cf8a88 data-v-f4388a15><div class="container" data-v-f4388a15><p class="message" data-v-f4388a15>Made with ❤ by</p><p class="copyright" data-v-f4388a15>Kagol 和前端开源星球🌍</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"0f77bd59\",\"open-source_2022_summary-2022-mid.md\":\"916ebef1\",\"open-source_2022_operation-experience-of-open-source-community.md\":\"72505fbc\",\"tech_2019_ci-framework.md\":\"b45fbc35\",\"tech_2022_component-library-testing-guide.md\":\"afa390ca\",\"tech_2021_0-to-1-build-vue-component-library-5.md\":\"1f0b4ce0\",\"tech_2021_0-to-1-build-vue-component-library-1.md\":\"3b274671\",\"tech_2022_jsx-concise-syntax-in-vue3.md\":\"32d38eaf\",\"tech_2019_phantomjs.md\":\"8c7dfa16\",\"tech_2016_array-deduplication-algorithm.md\":\"79fecbb5\",\"open-source_2022_open-source-project-from-0-to-1.md\":\"cf13ee15\",\"tech_2018_macos-tips.md\":\"818ce4f6\",\"open-source_2021_summary-2021.md\":\"e57e1fd5\",\"tech_2021_0-to-1-build-vue-component-library-12.md\":\"345b09a8\",\"tech_2021_monorepo-angular.md\":\"b8b07fa6\",\"tech_2021_category-search-component.md\":\"f1f0f721\",\"tech_2022_using-jsx-concise-syntax-in-vue3.md\":\"ee2126b4\",\"tech_2022_vue-devui-1-is-officially-released.md\":\"1a3b5ff6\",\"tech_2018_nginx-https.md\":\"88832a61\",\"tech_2021_0-to-1-build-vue-component-library-11.md\":\"a0853caf\",\"tech_2021_angular-routing-lazy-loading.md\":\"d4119773\",\"tech_2021_quill-practice.md\":\"8258937a\",\"tech_2019_date-picker-component.md\":\"de915b05\",\"tech_2022_how-to-create-a-component.md\":\"71f7e29d\",\"tech_2021_0-to-1-build-vue-component-library-4.md\":\"69faf3bf\",\"tech_2021_quill-basic.md\":\"eab580c7\",\"tech_2017_how-browser-works.md\":\"8e27ba1d\",\"tech_2021_getting-started-with-vue.md\":\"f3b8b0ca\",\"tech_2021_rich-text-editor-insert-dragon.md\":\"25a11798\",\"tech_2020_front-end-mock-data.md\":\"22ecd8c9\",\"tech_2016_nodejs-mongoose.md\":\"e1fca434\",\"tech_2016_getting-started-with-webpack.md\":\"89ae654e\",\"open-source_2021_angular-component-libraries.md\":\"50f20999\",\"tech_2019_building-block-theory.md\":\"7bcce637\",\"tech_2020_html2canvas-principle.md\":\"e0e8d2d1\",\"tech_2022_learn-from-mistakes.md\":\"a659f10e\",\"tech_2021_steps-guide-component.md\":\"4713a06a\",\"tech_2022_why-did-you-choose-vue.md\":\"6e5d8b9d\",\"tech_2023_typescript-vue.md\":\"4f3a21a0\",\"tech_2022_cdk-tree.md\":\"db1048dc\",\"tech_2022_carousel-indicator-component.md\":\"41cf38a7\",\"tech_2020_quill-modularization-principle.md\":\"0ca06b83\",\"tech_2023_unit-testing-guide-for-vue-components.md\":\"aea38dfe\",\"tech_2022_git-rebase-and-git-stash.md\":\"92aff18c\",\"open-source_2023_opentiny-support-vue2-and-vue3.md\":\"f9147caa\",\"tech_2022_building-block-theory-develop-carousel.md\":\"3685dfb7\",\"tech_2021_asynchronous-interface-request.md\":\"f6f85910\",\"tech_2016_angular-spa.md\":\"f4630c59\",\"tech_2020_performance-analysis-method.md\":\"7ff2aaa7\",\"tech_2021_git-bisect.md\":\"f9b92eef\",\"tech_2016_summary-create-public-welfare-24-hour.md\":\"2b75d546\",\"tech_2023_how-to-contribute-to-open-source-projects.md\":\"03b5cfdf\",\"tech_2021_vue3-template-syntax.md\":\"433224c4\",\"tech_2016_linux-apache.md\":\"3fc14b7e\",\"tech_2021_0-to-1-build-vue-component-library-10.md\":\"882caac8\",\"tech_overview.md\":\"a5449e6c\",\"open-source_2022_summary-2022.md\":\"5a0f0190\",\"tech_2016_mongodb-to-mysql.md\":\"22421c0b\",\"tech_2019_a-way-to-realize-complex-state-machine.md\":\"7f7c2b8e\",\"open-source_2021_summary-2021-mid.md\":\"50d46a25\",\"tech_2017_front-end-tips.md\":\"3c552105\",\"tech_2019_webpack-heap-memory-leak.md\":\"631686c3\",\"tech_2019_fixed-data-table-data-rendering-error.md\":\"49923e21\",\"tech_2022_vue-eslint.md\":\"22be9d64\",\"tech_2020_automate-deployment-of-web-applications.md\":\"dbf2f3e3\",\"tech_2020_git-undo-redo.md\":\"3262ab0c\",\"tech_2021_0-to-1-build-vue-component-library-2.md\":\"4af0861d\",\"tech_2021_0-to-1-build-vue-component-library-7.md\":\"a7bc701b\",\"tech_2020_how-to-quantify-front-end-goals.md\":\"c6ea34a0\",\"tech_2021_quill-api.md\":\"47657547\",\"tech_2021_0-to-1-build-vue-component-library-6.md\":\"2d559c75\",\"tech_2016_getting-started-with-backbone.md\":\"460c0666\",\"tech_2020_quill-rendering-principle.md\":\"a26b71a5\",\"open-source_overview.md\":\"96691930\",\"tech_2021_0-to-1-build-vue-component-library-8.md\":\"b90db76e\",\"tech_2021_0-to-1-build-vue-component-library-9.md\":\"757937a9\",\"tech_2021_0-to-1-build-vue-component-library-3.md\":\"68fb7d14\",\"tech_2017_thinking-z-index.md\":\"81b9029a\",\"tech_2022_the-building-block-theory.md\":\"2e4f09f1\",\"tech_2021_rich-text-editor-insert-snake-game.md\":\"5ee037ab\",\"tech_2020_rollup-practice.md\":\"592defeb\",\"tech_2022_carousel-component.md\":\"9b76859f\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Kagol\",\"description\":\"卡哥博客, 卡哥, 卡哥的博客, 前端卡哥, 前端Kagol, 前端kagol, Kagol 博客, Kagol博客, kagol 博客, kagol博客, Kagol blog, Kagol blogs, kagol-blogs, kagol-blog, Kagol, kagol, 前端开源星球, 前端, Web, UI, Front end, front-end, frontend, 开源, Open Source, opensource, open-source, Vue, vue, JavaScript, javascript, JS, TypeScript, typescript, TS, 前端组件库, Component toolkit, Component library, Component, component, component-library, component-toolkit, 富文本编辑器, Rich text editor, rich-text-editor, rich-text, wysiwyg, wysiwyg-editor\",\"base\":\"/blogs/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"技术\",\"link\":\"/tech/overview\",\"activeMatch\":\"/tech/\"},{\"text\":\"开源\",\"link\":\"/open-source/overview\",\"activeMatch\":\"/open-source/\"}],\"sidebar\":{\"/tech/\":[{\"text\":\"前端\",\"collapsed\":true,\"items\":[{\"text\":\"手把手教你使用 Rollup 打包并发布自己的工具库📦\",\"link\":\"/tech/2020/rollup-practice\"},{\"text\":\"在瀑布下用火焰烤饼：三步法助你快速定位网站性能问题\",\"link\":\"/tech/2020/performance-analysis-method\"},{\"text\":\"html2canvas 实现浏览器截图的原理\",\"link\":\"/tech/2020/html2canvas-principle\"},{\"text\":\"让我们来构建一个浏览器引擎吧\",\"link\":\"/tech/2021/build-a-browser-engine\"},{\"text\":\"如何解决异步接口请求快慢不均导致的数据错误问题？\",\"link\":\"/tech/2021/asynchronous-interface-request\"},{\"text\":\"Angular 路由：懒加载、守卫、动态参数\",\"link\":\"/tech/2021/angular-routing-lazy-loading\"},{\"text\":\"前端有了这两样神器，再也不用追着后台要接口啦\",\"link\":\"/tech/2020/front-end-mock-data\"},{\"text\":\"Monorepo 初体验：将现有的 NG CLI 工程改造成 Monorepo 方式\",\"link\":\"/tech/2021/monorepo-angular\"},{\"text\":\"前端Vuer，请给你的项目加上 ESLint\",\"link\":\"/tech/2022/vue-eslint\"},{\"text\":\"Webpack入门——使用Webpack打包Angular项目的一个例子\",\"link\":\"/tech/2016/getting-started-with-webpack\"},{\"text\":\"Backbone入门\",\"link\":\"/tech/2016/getting-started-with-backbone\"},{\"text\":\"使用JavaScript进行数组去重——一种高效的算法\",\"link\":\"/tech/2016/array-deduplication-algorithm\"},{\"text\":\"使用Angular构建单页面应用(SPA)\",\"link\":\"/tech/2016/angular-spa\"},{\"text\":\"z-index 失效原因分析：由一个 bug 引发的对层叠上下文和 z-index 属性的深度思考\",\"link\":\"/tech/2017/thinking-z-index\"},{\"text\":\"浏览器内部工作原理\",\"link\":\"/tech/2017/how-browser-works\"}]},{\"text\":\"Vue\",\"collapsed\":true,\"items\":[{\"text\":\"老板：你为什么要选择 Vue？\",\"link\":\"/tech/2022/why-did-you-choose-vue\"},{\"text\":\"TypeScript 基础及在 Vue 中的实践\",\"link\":\"/tech/2023/typescript-vue\"},{\"text\":\"点线面Vue3：先跑起来再说！\",\"link\":\"/tech/2021/getting-started-with-vue\"},{\"text\":\"点线面Vue3：把模板语法这条线串起来！\",\"link\":\"/tech/2021/vue3-template-syntax\"},{\"text\":\"前端Vuer，请收下这份《Vue3中使用JSX简明语法》\",\"link\":\"/tech/2022/jsx-concise-syntax-in-vue3\"},{\"text\":\"前端Vuer，请收好这份《Vue组件单元测试》宝典，给自己多一些安全感\",\"link\":\"/tech/2023/unit-testing-guide-for-vue-components\"}]},{\"text\":\"组件库建设\",\"collapsed\":true,\"items\":[{\"text\":\"前端开发的积木理论——像搭积木一样做前端开发\",\"link\":\"/tech/2019/building-block-theory\"},{\"text\":\"用积木理论设计一个灵活好用的Carousel走马灯组件\",\"link\":\"/tech/2022/building-block-theory-develop-carousel\"},{\"text\":\"CarouseIndicator 组件应用：0行JS代码实现好看的手风琴式折叠卡片效果\",\"link\":\"/tech/2022/carousel-indicator-component\"},{\"text\":\"用积木理论设计的Carousel组件都有哪些有趣的玩法？\",\"link\":\"/tech/2022/carousel-component\"},{\"text\":\"DatePicker 日期选择组件的实现\",\"link\":\"/tech/2019/date-picker-component\"},{\"text\":\"手把手教你使用Vue/React/Angular三大框架开发Pagination分页组件\",\"link\":\"/tech/2020/develop-pagination-component-using-vue-react-angular\"},{\"text\":\"从 CDK Tree 源码学习如何开发一个UI无关的 Tree 组件\",\"link\":\"/tech/2022/cdk-tree\"},{\"text\":\"从0到1搭建Vue组件库01：提交我的第一次 PR\",\"link\":\"/tech/2021/0-to-1-build-vue-component-library-1\"},{\"text\":\"从0到1搭建Vue组件库02：实现一个能渲染多层节点的 Tree 组件\",\"link\":\"/tech/2021/0-to-1-build-vue-component-library-2\"},{\"text\":\"从0到1搭建Vue组件库03：如何给 tree 组件增加展开/收起功能\",\"link\":\"/tech/2021/0-to-1-build-vue-component-library-3\"},{\"text\":\"从0到1搭建Vue组件库04：使用 Vite 搭建一个支持 TypeScript / JSX 的 Vue3 组件库工程\",\"link\":\"/tech/2021/0-to-1-build-vue-component-library-4\"},{\"text\":\"从0到1搭建Vue组件库05：给 Vue3 组件库添加 VitePress 文档系统\",\"link\":\"/tech/2021/0-to-1-build-vue-component-library-5\"},{\"text\":\"从0到1搭建Vue组件库06：手把手带你开发一个脚手架\",\"link\":\"/tech/2021/0-to-1-build-vue-component-library-6\"},{\"text\":\"从0到1搭建Vue组件库07：给组件库项目增加单元测试\",\"link\":\"/tech/2021/0-to-1-build-vue-component-library-7\"},{\"text\":\"从0到1搭建Vue组件库08：阶段性小结\",\"link\":\"/tech/2021/0-to-1-build-vue-component-library-8\"},{\"text\":\"从0到1搭建Vue组件库09：Monorepo改造\",\"link\":\"/tech/2021/0-to-1-build-vue-component-library-9\"},{\"text\":\"从0到1搭建Vue组件库10：如何实现组件的按需打包📦\",\"link\":\"/tech/2021/0-to-1-build-vue-component-library-10\"},{\"text\":\"从0到1搭建Vue组件库11：实现tree组件禁止展开/收起、点选高亮和节点禁用功能\",\"link\":\"/tech/2021/0-to-1-build-vue-component-library-11\"},{\"text\":\"从0到1搭建Vue组件库12：实现tree组件自定义图标和节点勾选功能\",\"link\":\"/tech/2021/0-to-1-build-vue-component-library-12\"}]},{\"text\":\"富文本编辑器\",\"collapsed\":true,\"items\":[{\"text\":\"现代富文本编辑器Quill的模块化机制\",\"link\":\"/tech/2020/quill-modularization-principle\"},{\"text\":\"现代富文本编辑器Quill的内容渲染机制\",\"link\":\"/tech/2020/quill-rendering-principle\"},{\"text\":\"Quill 富文本编辑器的实践\",\"link\":\"/tech/2021/quill-practice\"},{\"text\":\"如何将龙插入到编辑器中？\",\"link\":\"/tech/2021/rich-text-editor-insert-dragon\"},{\"text\":\"今天是儿童节，整个贪吃蛇到编辑器里玩儿吧\",\"link\":\"/tech/2021/rich-text-editor-insert-snake-game\"},{\"text\":\"深入浅出Quill：Quill基本使用和配置\",\"link\":\"/tech/2021/quill-basic\"},{\"text\":\"深入浅出Quill：通过 Quill API 实现对编辑器内容的完全控制\",\"link\":\"/tech/2021/quill-api\"}]},{\"text\":\"前端之外\",\"collapsed\":true,\"items\":[{\"text\":\"使用Git，10件你可能需要“反悔”的事\",\"link\":\"/tech/2020/git-undo-redo\"},{\"text\":\"大厂是如何用DevCloud流水线实现自动化部署Web应用的？\",\"link\":\"/tech/2020/automate-deployment-of-web-applications\"},{\"text\":\"利用好 git bisect 这把利器，帮助你快速定位疑难 bug\",\"link\":\"/tech/2021/git-bisect\"},{\"text\":\"实现复杂状态机的一种思路\",\"link\":\"/tech/2019/a-way-to-realize-complex-state-machine\"},{\"text\":\"Nginx配置HTTPS\",\"link\":\"/tech/2018/nginx-https\"},{\"text\":\"如何将MongoDB数据库的数据迁移到MySQL数据库中\",\"link\":\"/tech/2016/mongodb-to-mysql\"},{\"text\":\"Linux下服务器环境的搭建和配置之一——Apache篇\",\"link\":\"/tech/2016/linux-apache\"},{\"text\":\"Node使用Mongoose操作MongoDB数据库——增删改查的实现\",\"link\":\"/tech/2016/nodejs-mongoose\"},{\"text\":\"2016腾讯\\\"创益24小时\\\"互联网公益创新大赛总结\",\"link\":\"/tech/2016/summary-create-public-welfare-24-hour\"},{\"text\":\"立完flag，你可能需要对flag进行量化\",\"link\":\"/tech/2020/how-to-quantify-front-end-goals\"}]}],\"/open-source/\":[{\"text\":\"优秀开源项目\",\"collapsed\":true,\"items\":[{\"text\":\"2021年最值得推荐的7个 Angular 前端组件库\",\"link\":\"/open-source/2021/angular-component-libraries\"},{\"text\":\"一个 OpenTiny，Vue2 Vue3 都支持！\",\"link\":\"/open-source/2023/opentiny-support-vue2-and-vue3\"}]},{\"text\":\"开源社区运营\",\"collapsed\":true,\"items\":[{\"text\":\"从启动开源项目到运营开源社区\",\"link\":\"/open-source/2022/operation-experience-of-open-source-community\"}]},{\"text\":\"个人总结\",\"collapsed\":true,\"items\":[{\"text\":\"2022 年终总结：把时间沉淀到自己的热爱里\",\"link\":\"/open-source/2022/summary-2022\"},{\"text\":\"2022 年中总结：种子终会破土而出！\",\"link\":\"/open-source/2022/summary-2022-mid\"},{\"text\":\"2021 年终总结：建设一个温暖的开源社区\",\"link\":\"/open-source/2021/summary-2021\"},{\"text\":\"2021 年中总结：烧不死的鸟是凤凰🐦\",\"link\":\"/open-source/2021/summary-2021-mid\"}]}]},\"footer\":{\"message\":\"Made with ❤ by\",\"copyright\":\"Kagol 和前端开源星球🌍\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>