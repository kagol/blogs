import{_ as a,B as s,o as n,c,G as t,Q as l}from"./chunks/framework.1fee3549.js";const v=JSON.parse('{"title":"åˆ©ç”¨å¥½ git bisect è¿™æŠŠåˆ©å™¨ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®šä½ç–‘éš¾ bug","description":"","frontmatter":{},"headers":[],"relativePath":"tech/2021/git-bisect.md","filePath":"tech/2021/git-bisect.md"}'),p={name:"tech/2021/git-bisect.md"},o=l(`<h1 id="åˆ©ç”¨å¥½-git-bisect-è¿™æŠŠåˆ©å™¨-å¸®åŠ©ä½ å¿«é€Ÿå®šä½ç–‘éš¾-bug" tabindex="-1">åˆ©ç”¨å¥½ git bisect è¿™æŠŠåˆ©å™¨ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®šä½ç–‘éš¾ bug <a class="header-anchor" href="#åˆ©ç”¨å¥½-git-bisect-è¿™æŠŠåˆ©å™¨-å¸®åŠ©ä½ å¿«é€Ÿå®šä½ç–‘éš¾-bug" aria-label="Permalink to &quot;åˆ©ç”¨å¥½ git bisect è¿™æŠŠåˆ©å™¨ï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®šä½ç–‘éš¾ bug&quot;">â€‹</a></h1><p><img src="https://user-images.githubusercontent.com/9566362/201500735-2f9a62ff-38af-49b4-9d88-67f1c0e12494.png" alt="image"></p><p>ä½¿ç”¨git bisectäºŒåˆ†æ³•å®šä½é—®é¢˜çš„åŸºæœ¬æ­¥éª¤ï¼š</p><ol><li>git bisect start [æœ€è¿‘çš„å‡ºé”™çš„commitid] [è¾ƒè¿œçš„æ­£ç¡®çš„commitid]</li><li>æµ‹è¯•ç›¸åº”çš„åŠŸèƒ½</li><li>git bisect good æ ‡è®°æ­£ç¡®</li><li>ç›´åˆ°å‡ºç°é—®é¢˜åˆ™ æ ‡è®°é”™è¯¯ git bisect bad</li><li>æç¤ºçš„commitidå°±æ˜¯å¯¼è‡´é—®é¢˜çš„é‚£æ¬¡æäº¤</li></ol><h2 id="é—®é¢˜æè¿°" tabindex="-1">é—®é¢˜æè¿° <a class="header-anchor" href="#é—®é¢˜æè¿°" aria-label="Permalink to &quot;é—®é¢˜æè¿°&quot;">â€‹</a></h2><p>æˆ‘ä»¬ä»¥<a href="https://github.com/DevCloudFE/vue-devui" target="_blank" rel="noreferrer">Vue DevUI</a>ç»„ä»¶åº“çš„ä¸€ä¸ªbugä¸¾ä¾‹å­ğŸŒ°</p><p><code>5d14c34b</code>è¿™ä¸€æ¬¡commitï¼Œæ‰§è¡Œ<code>yarn build</code>æŠ¥é”™ï¼ŒæŠ¥é”™ä¿¡æ¯å¦‚ä¸‹ï¼š</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">âœ“ building client + server bundles...</span></span>
<span class="line"><span style="color:#babed8;">âœ– rendering pages...</span></span>
<span class="line"><span style="color:#babed8;">build error:</span></span>
<span class="line"><span style="color:#babed8;"> ReferenceError: document is not defined</span></span></code></pre></div><p>æˆ‘å¯ä»¥ç¡®å®šçš„æ˜¯ä¸Šä¸€æ¬¡å‘ç‰ˆæœ¬ï¼ˆ<a href="https://github.com/DevCloudFE/vue-devui/commit/d577ce405bdf1a6bdd10ff9a44be3497aaea1911" target="_blank" rel="noreferrer">d577ce4</a>ï¼‰æ˜¯å¯ä»¥buildæˆåŠŸçš„ã€‚</p><h2 id="git-bisect-ç®€ä»‹" tabindex="-1">git bisect ç®€ä»‹ <a class="header-anchor" href="#git-bisect-ç®€ä»‹" aria-label="Permalink to &quot;git bisect ç®€ä»‹&quot;">â€‹</a></h2><p><code>git bisect</code>å‘½ä»¤ä½¿ç”¨äºŒåˆ†æœç´¢ç®—æ³•æ¥æŸ¥æ‰¾æäº¤å†å²ä¸­çš„å“ªä¸€æ¬¡æäº¤å¼•å…¥äº†é”™è¯¯ã€‚å®ƒå‡ ä¹èƒ½è®©ä½ é—­ç€çœ¼ç›å¿«é€Ÿå®šä½ä»»ä½•æºç å¯¼è‡´çš„é—®é¢˜ï¼Œéå¸¸å®ç”¨ã€‚</p><p>ä½ åªéœ€è¦å‘Šè¯‰è¿™ä¸ªå‘½ä»¤ä¸€ä¸ªåŒ…å«è¯¥bugçš„å<code>commit ID</code>å’Œä¸€ä¸ªå¼•å…¥è¯¥bugä¹‹å‰çš„å¥½<code>commit ID</code>ï¼Œè¿™ä¸ªå‘½ä»¤ä¼šç”¨äºŒåˆ†æ³•åœ¨è¿™ä¸¤ä¸ªæäº¤ä¹‹é—´é€‰æ‹©ä¸€ä¸ªä¸­é—´çš„<code>commit ID</code>ï¼Œåˆ‡æ¢åˆ°é‚£ä¸ª<code>commit ID</code>çš„ä»£ç ï¼Œç„¶åè¯¢é—®ä½ è¿™æ˜¯å¥½çš„<code>commit ID</code>è¿˜æ˜¯åçš„<code>commit ID</code>ï¼Œä½ å‘Šè¯‰å®ƒæ˜¯å¥½è¿˜æ˜¯åï¼Œç„¶åå®ƒä¼šä¸æ–­ç¼©å°èŒƒå›´ï¼Œç›´åˆ°æ‰¾åˆ°é‚£æ¬¡å¼•å…¥bugçš„å‡¶æ‰‹<code>commit ID</code>ã€‚</p><p>è¿™æ ·æˆ‘ä»¬å°±åªéœ€è¦åˆ†æé‚£ä¸€æ¬¡æäº¤çš„ä»£ç ï¼Œå°±èƒ½å¿«é€Ÿå®šä½å’Œè§£å†³è¿™ä¸ªbugï¼ˆå…·ä½“å®šä½çš„æ—¶é—´å–å†³äºè¯¥æ¬¡æäº¤çš„ä»£ç é‡å’Œä½ çš„ç»éªŒï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬æäº¤ä»£ç æ—¶ä¸€å®šè¦å…»æˆå°æ‰¹é‡æäº¤çš„ä¹ æƒ¯ï¼Œæ¯æ¬¡åªæäº¤ä¸€ä¸ªå°çš„ç‹¬ç«‹åŠŸèƒ½ï¼Œè¿™æ ·å‡ºé—®é¢˜äº†ï¼Œå®šä½èµ·æ¥ä¼šéå¸¸å¿«ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘å°±ä»¥<a href="https://github.com/DevCloudFE/vue-devui" target="_blank" rel="noreferrer">Vue DevUI</a>ä¹‹å‰å‡ºç°è¿‡çš„ä¸€ä¸ªbugä¸ºä¾‹ï¼Œè¯¦ç»†ä»‹ç»ä¸‹å¦‚ä½•ä½¿ç”¨<code>git bisect</code>è¿™æŠŠåˆ©å™¨ã€‚</p><h2 id="å®šä½è¿‡ç¨‹" tabindex="-1">å®šä½è¿‡ç¨‹ <a class="header-anchor" href="#å®šä½è¿‡ç¨‹" aria-label="Permalink to &quot;å®šä½è¿‡ç¨‹&quot;">â€‹</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">git bisect start 5d14c34b d577ce4</span></span>
<span class="line"><span style="color:#babed8;">or</span></span>
<span class="line"><span style="color:#babed8;">git bisect start HEAD d577ce4</span></span></code></pre></div><p>å…¶ä¸­<code>5d14c34b</code>è¿™æ¬¡æ˜¯æœ€è¿‘å‡ºç°çš„æœ‰bugçš„æäº¤ï¼Œ<code>d577ce4</code>è¿™ä¸ªæ˜¯ä¸Šä¸€æ¬¡å‘ç‰ˆæœ¬æ²¡é—®é¢˜çš„æäº¤ã€‚</p><p>æ‰§è¡Œå®Œå¯åŠ¨<code>bisect</code>ä¹‹åï¼Œé©¬ä¸Šå°±åˆ‡åˆ°ä¸­é—´çš„ä¸€æ¬¡æäº¤å•¦ï¼Œä»¥ä¸‹æ˜¯æ‰“å°ç»“æœï¼š</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">kagol:vue-devui kagol$ git bisect start 5d14c34b d577ce4</span></span>
<span class="line"><span style="color:#babed8;">Bisecting: 11 revisions left to test after this (roughly 4 steps)</span></span>
<span class="line"><span style="color:#babed8;">[1cfafaaa58e03850e0c9ddc4246ae40d18b03d71] fix: read-tip iconæ ·å¼æ³„éœ² (#54)</span></span></code></pre></div><p>å¯ä»¥çœ‹åˆ°å·²ç»åˆ‡åˆ°ä»¥ä¸‹æäº¤ï¼š</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">[1cfafaaa] fix: read-tip iconæ ·å¼æ³„éœ² (#54)</span></span></code></pre></div><p>æ‰§è¡Œå‘½ä»¤ï¼š</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">yarn build</span></span></code></pre></div><p>æ„å»ºæˆåŠŸï¼Œæ‰€ä»¥æ ‡è®°ä¸‹<code>good</code>ï¼š</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">git bisect good</span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">kagol:vue-devui kagol$ git bisect good</span></span>
<span class="line"><span style="color:#babed8;">Bisecting: 5 revisions left to test after this (roughly 3 steps)</span></span>
<span class="line"><span style="color:#babed8;">[c0c4cc1a25c5c6967b85100ee8ac636d90eff4b0] feat(drawer): add service model (#27)</span></span></code></pre></div><p>æ ‡è®°ä¸‡<code>good</code>ï¼Œé©¬ä¸Šåˆé€šè¿‡äºŒåˆ†æ³•ï¼Œåˆ‡åˆ°äº†ä¸€æ¬¡æ–°çš„æäº¤ï¼š</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">[c0c4cc1a] feat(drawer): add service model (#27)</span></span></code></pre></div><p>å†æ¬¡æ‰§è¡Œ<code>build</code>å‘½ä»¤ï¼š</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">yarn build</span></span></code></pre></div><p>buildå¤±è´¥äº†ï¼Œå‡ºç°äº†æˆ‘ä»¬æœ€æ—©é‡åˆ°çš„æŠ¥é”™ï¼š</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">âœ“ building client + server bundles...</span></span>
<span class="line"><span style="color:#babed8;">âœ– rendering pages...</span></span>
<span class="line"><span style="color:#babed8;">build error:</span></span>
<span class="line"><span style="color:#babed8;"> ReferenceError: document is not defined</span></span></code></pre></div><p>æ ‡è®°ä¸‹<code>bad</code>ï¼Œå†ä¸€æ¬¡åˆ‡åˆ°ä¸­é—´çš„æäº¤ï¼š</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">kagol:vue-devui kagol$ git bisect bad</span></span>
<span class="line"><span style="color:#babed8;">Bisecting: 2 revisions left to test after this (roughly 2 steps)</span></span>
<span class="line"><span style="color:#babed8;">[86634fd8efd2b808811835e7cb7ca80bc2904795] feat: add scss preprocessor in docs &amp;&amp; fix:(Toast)  single lifeMode bug in Toast</span></span></code></pre></div><p>ä»¥æ­¤ç±»æ¨ï¼Œä¸æ–­åœ°éªŒè¯ã€æ ‡è®°ã€éªŒè¯ã€æ ‡è®°...æœ€ç»ˆä¼šæç¤ºæˆ‘ä»¬é‚£ä¸€æ¬¡æäº¤å¯¼è‡´äº†è¿™æ¬¡çš„bugï¼Œæäº¤è€…ã€æäº¤æ—¶é—´ã€æäº¤messageç­‰ä¿¡æ¯ã€‚</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">kagol:vue-devui kagol$ git bisect good</span></span>
<span class="line"><span style="color:#babed8;">c0c4cc1a25c5c6967b85100ee8ac636d90eff4b0 is the first bad commit</span></span>
<span class="line"><span style="color:#babed8;">commit c0c4cc1a25c5c6967b85100ee8ac636d90eff4b0</span></span>
<span class="line"><span style="color:#babed8;">Author: nif &lt;lnzhangsong@163.com&gt;</span></span>
<span class="line"><span style="color:#babed8;">Date:   Sun Dec 26 21:37:05 2021 +0800</span></span>
<span class="line"><span style="color:#babed8;"></span></span>
<span class="line"><span style="color:#babed8;">    feat(drawer): add service model (#27)</span></span>
<span class="line"><span style="color:#babed8;">    </span></span>
<span class="line"><span style="color:#babed8;">    * feat(drawer): add service model</span></span>
<span class="line"><span style="color:#babed8;">    </span></span>
<span class="line"><span style="color:#babed8;">    * docs(drawer): add service model demo</span></span>
<span class="line"><span style="color:#babed8;">    </span></span>
<span class="line"><span style="color:#babed8;">    * fix(drawer): remove &#39;console.log()&#39;</span></span>
<span class="line"><span style="color:#babed8;"></span></span>
<span class="line"><span style="color:#babed8;"> packages/devui-vue/devui/drawer/index.ts           |  7 +++--</span></span>
<span class="line"><span style="color:#babed8;"> .../devui-vue/devui/drawer/src/drawer-service.ts   | 33 ++++++++++++++++++++++</span></span>
<span class="line"><span style="color:#babed8;"> packages/devui-vue/devui/drawer/src/drawer.tsx     |  3 ++</span></span>
<span class="line"><span style="color:#babed8;"> packages/devui-vue/docs/components/drawer/index.md | 29 +++++++++++++++++++</span></span>
<span class="line"><span style="color:#babed8;"> 4 files changed, 69 insertions(+), 3 deletions(-)</span></span>
<span class="line"><span style="color:#babed8;"> create mode 100644 packages/devui-vue/devui/drawer/src/drawer-service.ts</span></span></code></pre></div><p>æœ€ç»ˆå®šä½åˆ°å‡ºé—®é¢˜çš„commitï¼š</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">c0c4cc1a is the first bad commit</span></span></code></pre></div><p><a href="https://github.com/DevCloudFE/vue-devui/commit/c0c4cc1a25c5c6967b85100ee8ac636d90eff4b0" target="_blank" rel="noreferrer">https://github.com/DevCloudFE/vue-devui/commit/c0c4cc1a25c5c6967b85100ee8ac636d90eff4b0</a></p><p>æ•´ä¸ªå®šä½è¿‡ç¨‹å‡ ä¹æ˜¯æœºæ¢°çš„æ“ä½œï¼Œä¸éœ€è¦äº†è§£é¡¹ç›®æºç ï¼Œä¸éœ€è¦äº†è§£æœ€è¿‘è°æäº¤äº†ä»€ä¹ˆå†…å®¹ï¼Œåªéœ€è¦æ— è„‘åœ°ï¼šéªŒè¯ã€æ ‡è®°ã€éªŒè¯ã€æ ‡è®°ï¼Œæœ€ågitä¼šå‘Šè¯‰æˆ‘ä»¬é‚£ä¸€æ¬¡æäº¤å‡ºé”™ã€‚</p><p>è¿™ä¹ˆé¦™çš„å·¥å…·ï¼Œèµ¶ç´§æ¥è¯•è¯•å§ï¼</p><h2 id="é—®é¢˜åˆ†æ" tabindex="-1">é—®é¢˜åˆ†æ <a class="header-anchor" href="#é—®é¢˜åˆ†æ" aria-label="Permalink to &quot;é—®é¢˜åˆ†æ&quot;">â€‹</a></h2><p>ç›´åˆ°å“ªä¸ªcommitå‡ºé—®é¢˜äº†ï¼Œå®šä½èµ·æ¥èŒƒå›´å°±å°äº†å¾ˆå¤šã€‚</p><p>å¦‚æœå¹³æ—¶æäº¤ä»£ç åˆèƒ½å¾ˆå¥½åœ°éµå¾ªå°é¢—ç²’æäº¤çš„è¯ï¼Œbugå‘¼ä¹‹æ¬²å‡ºã€‚</p><p>è¿™é‡Œå¿…é¡»è¡¨æ‰¬ä¸‹æˆ‘ä»¬DevUIçš„ç”°ä¸»ï¼ˆContributorï¼‰ä»¬ï¼Œä»–ä»¬éƒ½å…»æˆäº†å°é¢—ç²’æäº¤çš„ä¹ æƒ¯ï¼Œè¿™æ¬¡å¯¼è‡´bugçš„æäº¤<code>c0c4cc1a</code>ï¼Œåªæäº¤äº†4ä¸ªæ–‡ä»¶ï¼Œæ¶‰åŠ70å¤šè¡Œä»£ç ã€‚</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/20e682407cfe4cafb6a5360f4c36537c~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>æˆ‘ä»¬åœ¨å…¶ä¸­æœç´¢ä¸‹<code>document</code>å…³é”®å­—ï¼Œå‘ç°äº†ä¸¤å¤„ï¼Œéƒ½åœ¨<code>drawer-service.ts</code>æ•´ä¸ªæ–‡ä»¶ä¸­ï¼š</p><p>ä¸€å¤„æ˜¯12è¡Œçš„ï¼š</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">static $body: HTMLElement | null = document.body</span></span></code></pre></div><p>å¦ä¸€å¤„æ˜¯17è¡Œçš„ï¼š</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">this.$div = document.createElement(&#39;div&#39;)</span></span></code></pre></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b7e5478cc5e84a10989052ee8c2d3f76~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>æœ€ç»ˆå‘ç°ç½ªé­ç¥¸é¦–å°±æ˜¯12è¡Œçš„ä»£ç ï¼</p><p>ç ´æ¡ˆï¼</p><p>æ­¤å¤„@lnzhangsongæˆ‘ä»¬çš„ç”°ä¸»ï¼Œæœ‰ç©ºéº»çƒ¦ä¿®ä¸‹è¿™ä¸ªbugã€‚</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4fe8aa9b5b1a4a3a970a745d259f9953~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p>`,56);function i(d,r,b,g,u,m){const e=s("EditInfo");return n(),c("div",null,[o,t(e,{time:"2021å¹´12æœˆ27æ—¥ 23:49",title:"é˜…è¯» 4606 Â·  ç‚¹èµ 84 Â·  è¯„è®º 24 Â·  æ”¶è— 66"})])}const f=a(p,[["render",i]]);export{v as __pageData,f as default};
