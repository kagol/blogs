import{_ as a,B as n,o as l,c as o,G as p,Q as e}from"./chunks/framework.1fee3549.js";const t="/blogs/assets/rollup-practice-1.png",c="/blogs/assets/rollup-practice-2.png",r="/blogs/assets/rollup-practice-3.png",y="/blogs/assets/rollup-practice-4.png",D="/blogs/assets/rollup-practice-5.png",m=JSON.parse('{"title":"æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Rollup æ‰“åŒ…å¹¶å‘å¸ƒè‡ªå·±çš„å·¥å…·åº“ğŸ“¦","description":"","frontmatter":{},"headers":[],"relativePath":"tech/2020/rollup-practice.md","filePath":"tech/2020/rollup-practice.md"}'),F={name:"tech/2020/rollup-practice.md"},i=e(`<h1 id="æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨-rollup-æ‰“åŒ…å¹¶å‘å¸ƒè‡ªå·±çš„å·¥å…·åº“ğŸ“¦" tabindex="-1">æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Rollup æ‰“åŒ…å¹¶å‘å¸ƒè‡ªå·±çš„å·¥å…·åº“ğŸ“¦ <a class="header-anchor" href="#æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨-rollup-æ‰“åŒ…å¹¶å‘å¸ƒè‡ªå·±çš„å·¥å…·åº“ğŸ“¦" aria-label="Permalink to &quot;æ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ Rollup æ‰“åŒ…å¹¶å‘å¸ƒè‡ªå·±çš„å·¥å…·åº“ğŸ“¦&quot;">â€‹</a></h1><p>éšç€å‰ç«¯ç”Ÿæ€çš„ç¹è£ï¼Œå·¥å…·åº“å‡ ä¹æ˜¯é«˜æ•ˆå¼€å‘çš„å¿…éœ€å“ï¼Œ<a href="https://github.com/lodash/lodash" target="_blank" rel="noreferrer">lodash</a> / <a href="https://github.com/iamkun/dayjs" target="_blank" rel="noreferrer">dayjs</a> / <a href="https://github.com/adamwdraper/Numeral-js" target="_blank" rel="noreferrer">numberal</a> ç­‰å®ç”¨çš„å·¥å…·åº“ç›¸ä¿¡å¤§å®¶éƒ½ç”¨è¿‡ã€‚</p><p>æˆ‘è¿‘æœŸåœ¨å¼€å‘ <a href="https://github.com/kagol/calendar-graph/" target="_blank" rel="noreferrer">Calendar Graph</a> GitHub æäº¤æ—¥å†ç»„ä»¶æ—¶ï¼Œå‘ç°æœ‰å¾ˆå¤šéœ€è¦å¤„ç†é¢œè‰²çš„åœºæ™¯ï¼Œæ¯”å¦‚ï¼šåˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„é¢œè‰²å€¼ã€hex é¢œè‰²å€¼å’Œ rgb é¢œè‰²å€¼çš„äº’è½¬ç­‰ï¼Œä½†æ²¡æœ‰æ‰¾åˆ°ä¸€ä¸ªèƒ½å¾ˆå¥½æ»¡è¶³æˆ‘å…¨éƒ¨éœ€æ±‚çš„å¼€æºåº“ï¼Œæ‰€ä»¥å†³å®šè‡ªå·±é€ ä¸€ä¸ªè½®å­ã€‚</p><p>è¿™å°±æ˜¯æˆ‘åš <a href="https://github.com/kagol/ktools" target="_blank" rel="noreferrer">ktools</a> å·¥å…·åº“çš„åŸå› ï¼Œæœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ <a href="https://github.com/rollup/rollup" target="_blank" rel="noreferrer">Rollup</a> è¿™ä¸ªè½»é‡çš„ä¸‹ä¸€ä»£æ¨¡å—æ‰“åŒ…å™¨æ‰“é€ è‡ªå·±çš„ TypeScript å·¥å…·åº“ã€‚</p><p>é€šè¿‡é˜…è¯»æœ¬æ–‡ï¼Œä½ å°†å­¦åˆ°ï¼š</p><ol><li>å¦‚ä½•åˆå§‹åŒ–ä¸€ä¸ª Rollup å·¥ç¨‹é¡¹ç›®</li><li>å¦‚ä½•é…ç½® Rollup å’Œ TypeScript</li><li>å¦‚ä½•ç¼–å†™è„šæœ¬ï¼Œæ„å»ºå¹¶å‘å¸ƒè‡ªå·±çš„å·¥å…·åº“åˆ° npm ä»“åº“</li></ol><h2 id="_1-åˆ›å»ºå¹¶åˆå§‹åŒ–-github-é¡¹ç›®" tabindex="-1">1 åˆ›å»ºå¹¶åˆå§‹åŒ– GitHub é¡¹ç›® <a class="header-anchor" href="#_1-åˆ›å»ºå¹¶åˆå§‹åŒ–-github-é¡¹ç›®" aria-label="Permalink to &quot;1 åˆ›å»ºå¹¶åˆå§‹åŒ– GitHub é¡¹ç›®&quot;">â€‹</a></h2><p>åšä¸€ä¸ªå¼€æºåº“çš„ç¬¬ä¸€æ­¥æ˜¯åˆ›å»ºä¸€ä¸ª GitHub(æˆ– Gitlab ç­‰)ä»£ç ä»“åº“ï¼Œå¹¶è¿›è¡Œç®€å•çš„åˆå§‹åŒ–ï¼Œä¸»è¦åŒ…æ‹¬ï¼š</p><ol><li>åˆ›å»ºGitæäº¤å¿½ç•¥é…ç½® .gitignore</li><li>åˆ›å»ºå¼€æºåè®®å£°æ˜ LICENSE</li><li>åˆå§‹åŒ– package.json</li><li>é…ç½® TypeScript tsconfig.json</li><li>é…ç½® Rollup rollup.config.js</li></ol><h3 id="_1-1-gitæäº¤å¿½ç•¥é…ç½®" tabindex="-1">1.1 Gitæäº¤å¿½ç•¥é…ç½® <a class="header-anchor" href="#_1-1-gitæäº¤å¿½ç•¥é…ç½®" aria-label="Permalink to &quot;1.1 Gitæäº¤å¿½ç•¥é…ç½®&quot;">â€‹</a></h3><p>ä¸ºäº†é˜²æ­¢ <code>node_modules</code> ç­‰è‡ªåŠ¨ç”Ÿæˆçš„ç›®å½•/æ–‡ä»¶æäº¤åˆ°è¿œç¨‹ä»£ç ä»“åº“ï¼Œæäº¤å¿½ç•¥æ˜¯é¦–å…ˆè¦è€ƒè™‘çš„äº‹æƒ…ï¼Œå‰æœŸå¯ä»¥ç®€å•é…ç½®ä¸‹å³å¯ã€‚</p><p>å…ˆåˆ›å»ºä¸€ä¸ª .gitignore æ–‡ä»¶</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">touch .gitignore</span></span></code></pre></div><p>åœ¨æ–°åˆ›å»ºçš„.gitignoreæ–‡ä»¶ä¸­å¢åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;"># dependencies</span></span>
<span class="line"><span style="color:#babed8;">/node_modules</span></span>
<span class="line"><span style="color:#babed8;"></span></span>
<span class="line"><span style="color:#babed8;"># compiled output</span></span>
<span class="line"><span style="color:#babed8;">/dist</span></span></code></pre></div><p>è¯¦ç»†çš„é…ç½®å¯ä»¥å‚è€ƒ GitHub å®˜æ–¹æ–‡æ¡£ï¼š <a href="https://docs.github.com/en/free-pro-team@latest/github/using-git/ignoring-files" target="_blank" rel="noreferrer">https://docs.github.com/en/free-pro-team@latest/github/using-git/ignoring-files</a></p><h3 id="_1-2-åˆ›å»ºå¼€æºåè®®å£°æ˜-license" tabindex="-1">1.2 åˆ›å»ºå¼€æºåè®®å£°æ˜ LICENSE <a class="header-anchor" href="#_1-2-åˆ›å»ºå¼€æºåè®®å£°æ˜-license" aria-label="Permalink to &quot;1.2 åˆ›å»ºå¼€æºåè®®å£°æ˜ LICENSE&quot;">â€‹</a></h3><p>å¼€æºåè®®å¯ä»¥åœ¨åˆ›å»º GitHub ä»“åº“æ—¶é€‰æ‹©ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºä»“åº“ä¹‹åå†åŠ ï¼Œä¸€èˆ¬é€‰æ‹© MIT åè®®ã€‚</p><p>è¿™é‡Œä»‹ç»ä¸€ä¸ªåˆ›å»ºä»“åº“ä¹‹åè¡¥åŠ åè®®çš„å°æŠ€å·§ã€‚ä¸»è¦åˆ†æˆä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><ol><li>åœ¨ GitHub ä»“åº“å¢åŠ ä¸€ä¸ªæ–‡ä»¶</li><li>è¾“å…¥ <code>LICENSE</code>ï¼ˆæ³¨æ„å¿…é¡»å…¨éƒ¨å¤§å†™ï¼‰</li><li>é€‰æ‹©åè®®</li><li>æäº¤</li></ol><h4 id="step-1-åœ¨-github-ä»“åº“å¢åŠ ä¸€ä¸ªæ–‡ä»¶" tabindex="-1">Step 1: åœ¨ GitHub ä»“åº“å¢åŠ ä¸€ä¸ªæ–‡ä»¶ <a class="header-anchor" href="#step-1-åœ¨-github-ä»“åº“å¢åŠ ä¸€ä¸ªæ–‡ä»¶" aria-label="Permalink to &quot;Step 1: åœ¨ GitHub ä»“åº“å¢åŠ ä¸€ä¸ªæ–‡ä»¶&quot;">â€‹</a></h4><p>åœ¨ä»£ç ä»“åº“çš„ç›®å½•ç»“æ„å³ä¸Šæ–¹ï¼Œæœ‰ä¸€ä¸ª <code>Add file</code> ä¸‹æ‹‰æ¡†ï¼Œé€‰æ‹©å…¶ä¸­çš„ <code>Create new file</code> é€‰é¡¹ï¼Œè¿›å…¥åˆ›å»ºæ–°æ–‡ä»¶çš„é¡µé¢ã€‚</p><p><img src="`+t+'" alt=""></p><h4 id="step-2-è¾“å…¥-license" tabindex="-1">Step 2: è¾“å…¥ &quot;LICENSE&quot; <a class="header-anchor" href="#step-2-è¾“å…¥-license" aria-label="Permalink to &quot;Step 2: è¾“å…¥ &quot;LICENSE&quot;&quot;">â€‹</a></h4><p>åœ¨æ–‡ä»¶åä¸­è¾“å…¥å…¨å¤§äº›çš„ <code>LICENSE</code>ï¼Œè¿™æ—¶è¾“å…¥æ¡†å³è¾¹ä¼šå¤šå‡ºæ¥ä¸€ä¸ªæŒ‰é’® <code>Choose a license template</code>ã€‚</p><p><img src="'+c+'" alt=""></p><h4 id="step-3-é€‰æ‹©åè®®" tabindex="-1">Step 3: é€‰æ‹©åè®® <a class="header-anchor" href="#step-3-é€‰æ‹©åè®®" aria-label="Permalink to &quot;Step 3: é€‰æ‹©åè®®&quot;">â€‹</a></h4><p>ç‚¹å‡» <code>Choose a license template</code> æŒ‰é’®ï¼Œè¿›å…¥é€‰æ‹©åè®®æ¨¡æ¿çš„é¡µé¢ã€‚</p><p>æˆ‘ä»¬åœ¨å·¦ä¾§ç›®å½•é€‰æ‹© <code>MIT License</code>ï¼Œç„¶ååœ¨å³ä¾§è¾¹æ è¾“å…¥å¹´ä»½å’Œä½œè€…åå­—ï¼Œå¯ä»¥çœ‹åˆ°ä¸­é—´çš„ <code>Copyright (c)</code> åé¢çš„å¹´ä»½å’Œä½œè€…ä¼šç›¸åº”å˜åŒ–ï¼Œç‚¹å‡» <code>Review and submit</code> æŒ‰é’®ï¼Œå³å¯è¿”å›åˆ›å»ºæ–‡ä»¶çš„é¡µé¢ï¼Œå¹¶è‡ªåŠ¨ç”¨åˆšåˆšé€‰æ‹©çš„åè®®å†…å®¹å¡«å……åˆ° LICENSE æ–‡ä»¶ä¸­ã€‚</p><p><img src="'+r+'" alt=""></p><h4 id="step-4-æäº¤" tabindex="-1">Step 4: æäº¤ <a class="header-anchor" href="#step-4-æäº¤" aria-label="Permalink to &quot;Step 4: æäº¤&quot;">â€‹</a></h4><p>ç‚¹å‡»åˆ›å»ºæ–‡ä»¶é¡µé¢ä¸‹æ–¹çš„<code>Commit new file</code>å³å¯æäº¤ LICENSE æ–‡ä»¶åˆ°ä»£ç ä»“åº“ã€‚</p><p><img src="'+y+'" alt=""></p><p>æäº¤ä¹‹åä¼šè‡ªåŠ¨è·³è½¬åˆ° LICENSE é¡µé¢ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="'+D+`" alt=""></p><h3 id="_1-3-åˆå§‹åŒ–-package-json" tabindex="-1">1.3 åˆå§‹åŒ– package.json <a class="header-anchor" href="#_1-3-åˆå§‹åŒ–-package-json" aria-label="Permalink to &quot;1.3 åˆå§‹åŒ– package.json&quot;">â€‹</a></h3><p>æ·»åŠ  <code>.gitignore</code> / <code>LICENSE</code> è¿™ä¸¤ä¸ªåŸºæœ¬çš„æ–‡ä»¶ä¹‹åï¼Œä¸‹ä¸€æ­¥å°±æ˜¯åˆå§‹åŒ– <code>package.json</code> æ–‡ä»¶ï¼Œè¿™æ˜¯ç®¡ç†ä¾èµ–åŒ…åŠå…¶ç‰ˆæœ¬çš„åŒ…é…ç½®æ–‡ä»¶ï¼Œå‰ç«¯é¡¹ç›®å¿…å¤‡ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ªé»˜è®¤çš„ package.jsonï¼š</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">init</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-y</span></span></code></pre></div><p>å¢åŠ  <code>-y</code> å‚æ•°æ˜¯ä¸æƒ³ä¸€ç›´æŒ‰ EnterğŸ˜„</p><p>åˆ›å»ºå¥½çš„ package.json æ–‡ä»¶å¦‚ä¸‹ï¼š</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ktools</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">version</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">1.0.0</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">description</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">main</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">index.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">test</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">echo </span><span style="color:#BABED8;">\\&quot;</span><span style="color:#C3E88D;">Error: no test specified</span><span style="color:#BABED8;">\\&quot;</span><span style="color:#C3E88D;"> &amp;&amp; exit 1</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">repository</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">type</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">git</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">url</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">git+https://github.com/kagol/ktools.git</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">keywords</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[],</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">author</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">license</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">MIT</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>æˆ‘ä»¬å¯ä»¥ç®€å•åœ°ä¿®æ”¹å’Œå®Œå–„ä¸‹ã€‚</p><p><code>name</code>å’Œ<code>version</code>åˆ†åˆ«æ˜¯åŒ…åå’Œç‰ˆæœ¬å·ï¼Œå‡å¯åç»­å‘å¸ƒæ—¶é€šè¿‡è„šæœ¬åŠ¨æ€ä¿®æ”¹ï¼Œä¸ç”¨ç®¡ã€‚</p><p><code>description</code>æè¿°å¯ä»¥åŠ ä¸‹ï¼š</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">description</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">å‰ç«¯å·¥å…·åº“</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><p><code>main</code>/<code>scripts</code>è¿™äº›åç»­åœ¨æ„å»ºéƒ¨ç½²è„šæœ¬çš„ç« èŠ‚ä¼šç»†è®²ã€‚</p><p><code>keywords</code>/<code>author</code>å¯ä»¥åŠ ä¸‹ï¼š</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">keywords</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">: </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">toolkit</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rollup</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">typescript</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">]</span><span style="color:#BABED8;">,</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">author</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Kagol</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">,</span></span></code></pre></div><p>é…ç½®å¥½ package.jsonï¼Œåç»­å®‰è£…ä¾èµ–åŒ…æ—¶ä¼šè‡ªåŠ¨æ›´æ–°è¯¥æ–‡ä»¶ï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿åœ°è¿›è¡Œä¾èµ–ç®¡ç†ã€‚</p><h3 id="_1-4-é…ç½®-typescript-tsconfig-json" tabindex="-1">1.4 é…ç½® TypeScript tsconfig.json <a class="header-anchor" href="#_1-4-é…ç½®-typescript-tsconfig-json" aria-label="Permalink to &quot;1.4 é…ç½® TypeScript tsconfig.json&quot;">â€‹</a></h3><p>TypeScript è¿™ç§å¼ºç±»å‹çš„è¯­è¨€ï¼Œæ˜¯å¯¹ JavaScript å¾ˆå¥½çš„è¡¥å……å’Œå¢å¼ºï¼Œç›®å‰æ¥çœ‹å‰æ™¯å¾ˆå¥½ï¼Œå¿…é¡»ç”¨èµ·æ¥ã€‚</p><h4 id="å®‰è£…-tsc" tabindex="-1">å®‰è£… tsc <a class="header-anchor" href="#å®‰è£…-tsc" aria-label="Permalink to &quot;å®‰è£… tsc&quot;">â€‹</a></h4><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ tsc å‘½ä»¤è¡Œå·¥å…·å¿«é€Ÿåˆ›å»º TypeScript é»˜è®¤é…ç½®æ–‡ä»¶ã€‚</p><p>å…ˆç¡®è®¤ä¸‹æ˜¯å¦å®‰è£… tscï¼Œè¾“å…¥å‘½ä»¤ï¼š</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">tsc</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-v</span></span></code></pre></div><p>å‡ºç°ä»¥ä¸‹å‘½ä»¤è¯´æ˜æœªå®‰è£…ï¼š</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">-bash:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/usr/local/bin/tsc:</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">No</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">such</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">file</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">or</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">directory</span></span></code></pre></div><p>å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å…¨å±€å®‰è£…ï¼š</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">i</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-g</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">typescript</span></span></code></pre></div><p>æˆåŠŸå®‰è£…ä¹‹åï¼Œå†æŸ¥çœ‹ä¸‹tscç‰ˆæœ¬ï¼š</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">tsc</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-v</span></span>
<span class="line"><span style="color:#FFCB6B;">Version</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">4.1</span><span style="color:#C3E88D;">.2</span></span></code></pre></div><h4 id="ç”Ÿæˆ-tsconfig-json-é…ç½®æ–‡ä»¶" tabindex="-1">ç”Ÿæˆ tsconfig.json é…ç½®æ–‡ä»¶ <a class="header-anchor" href="#ç”Ÿæˆ-tsconfig-json-é…ç½®æ–‡ä»¶" aria-label="Permalink to &quot;ç”Ÿæˆ tsconfig.json é…ç½®æ–‡ä»¶&quot;">â€‹</a></h4><p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å¿«é€Ÿç”Ÿæˆé»˜è®¤çš„ <code>tsconfig.json</code> é…ç½®ï¼š</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">tsc</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--init</span></span></code></pre></div><p>ç”Ÿæˆçš„ <code>tsconfig.json</code> æ–‡ä»¶å¦‚ä¸‹ï¼ˆå·²åˆ é™¤æ³¨é‡Šä»£ç ï¼‰ï¼š</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">compilerOptions</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">/* Visit https://aka.ms/tsconfig.json to read more about this file */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">/* Basic Options */</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">target</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">es5</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;">                          </span><span style="color:#676E95;font-style:italic;">/* Specify ECMAScript target version: &#39;ES3&#39; (default), &#39;ES5&#39;, &#39;ES2015&#39;, &#39;ES2016&#39;, &#39;ES2017&#39;, &#39;ES2018&#39;, &#39;ES2019&#39;, &#39;ES2020&#39;, or &#39;ESNEXT&#39;. */</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">module</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">commonjs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;">                     </span><span style="color:#676E95;font-style:italic;">/* Specify module code generation: &#39;none&#39;, &#39;commonjs&#39;, &#39;amd&#39;, &#39;system&#39;, &#39;umd&#39;, &#39;es2015&#39;, &#39;es2020&#39;, or &#39;ESNext&#39;. */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">/* Strict Type-Checking Options */</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">strict</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">true,</span><span style="color:#BABED8;">                           </span><span style="color:#676E95;font-style:italic;">/* Enable all strict type-checking options. */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">/* Module Resolution Options */</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">esModuleInterop</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">true,</span><span style="color:#BABED8;">                  </span><span style="color:#676E95;font-style:italic;">/* Enables emit interoperability between CommonJS and ES Modules via creation of namespace objects for all imports. Implies &#39;allowSyntheticDefaultImports&#39;. */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#676E95;font-style:italic;">/* Advanced Options */</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">skipLibCheck</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">true,</span><span style="color:#BABED8;">                     </span><span style="color:#676E95;font-style:italic;">/* Skip type checking of declaration files. */</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">forceConsistentCasingInFileNames</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">true</span><span style="color:#BABED8;">  </span><span style="color:#676E95;font-style:italic;">/* Disallow inconsistently-cased references to the same file. */</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>é»˜è®¤çš„é…ç½®å…¶å®å·²ç»å¤Ÿç”¨ï¼Œæˆ‘ä»¬ä¸åšä¿®æ”¹ï¼Œåç»­å¯ä»¥æ ¹æ®éœ€è¦åˆ å‡é…ç½®ã€‚</p><h3 id="_1-5-é…ç½®rollup-rollup-config-js" tabindex="-1">1.5 é…ç½®Rollup rollup.config.js <a class="header-anchor" href="#_1-5-é…ç½®rollup-rollup-config-js" aria-label="Permalink to &quot;1.5 é…ç½®Rollup rollup.config.js&quot;">â€‹</a></h3><p>åˆå§‹åŒ–å·¥ç¨‹çš„æœ€åä¸€æ­¥å°±æ˜¯é…ç½® Rollupï¼Œå…ˆåˆ›å»ºä¸€ä¸ª Rollup é…ç½®æ–‡ä»¶ï¼Œæ²¡æœ‰ Rollup CLI å·¥å…·ä¸æ”¯æŒåˆå§‹åŒ–é…ç½®æ–‡ä»¶ï¼Œåªèƒ½æ‰‹åŠ¨åˆ›å»ºï¼š</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">touch</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">rollup.config.js</span></span></code></pre></div><p>ç„¶ååœ¨ <code>rollup.config.js</code> ä¸­å¢åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> resolve </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rollup-plugin-node-resolve</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> commonjs </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rollup-plugin-commonjs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> typescript </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rollup-plugin-typescript</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> pkg </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./package.json</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">input</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">src/index.ts</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// æ‰“åŒ…å…¥å£</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">output</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// æ‰“åŒ…å‡ºå£</span></span>
<span class="line"><span style="color:#BABED8;">	</span><span style="color:#F07178;">file</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> pkg</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">browser</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// æœ€ç»ˆæ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶è·¯å¾„å’Œæ–‡ä»¶åï¼Œè¿™é‡Œæ˜¯åœ¨package.jsonçš„browser: &#39;dist/index.js&#39;å­—æ®µä¸­é…ç½®çš„</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F07178;">format</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">umd</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// umdæ˜¯å…¼å®¹amd/cjs/iifeçš„é€šç”¨æ‰“åŒ…æ ¼å¼ï¼Œé€‚åˆæµè§ˆå™¨</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F07178;">plugins</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [ </span><span style="color:#676E95;font-style:italic;">// æ‰“åŒ…æ’ä»¶</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#82AAFF;">resolve</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// æŸ¥æ‰¾å’Œæ‰“åŒ…node_modulesä¸­çš„ç¬¬ä¸‰æ–¹æ¨¡å—</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#82AAFF;">commonjs</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// å°† CommonJS è½¬æ¢æˆ ES2015 æ¨¡å—ä¾› Rollup å¤„ç†</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#82AAFF;">typescript</span><span style="color:#BABED8;">() </span><span style="color:#676E95;font-style:italic;">// è§£æTypeScript</span></span>
<span class="line"><span style="color:#BABED8;">  ]</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div><p>åœ¨ <code>package.json</code> ä¸­é…ç½® <code>browser</code> å­—æ®µï¼š</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">browser</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dist/index.ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">,</span></span></code></pre></div><p>å®‰è£… Rollup å’Œ TypeScript ç›¸å…³ä¾èµ–ï¼š</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">i</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-D</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">rollup</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">typescript</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">tslib</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">rollup-plugin-node-resolve</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">rollup-plugin-commonjs</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">rollup-plugin-typescript</span></span></code></pre></div><p>æ³¨æ„ <code>tslib</code> è¿™ä¸ªä¾èµ–åº“ä¹Ÿæ˜¯å¿…éœ€çš„ï¼Œå› ä¸º <code>rollup-plugin-typescript</code> æ’ä»¶ä¾èµ–äº†è¯¥åº“ã€‚</p><p>Rollup é…ç½®æ–‡ä»¶æ¯ä¸ªé…ç½®é¡¹çš„å…·ä½“å«ä¹‰å¯ä»¥å‚è€ƒï¼š<a href="https://www.rollupjs.com/guide/big-list-of-options" target="_blank" rel="noreferrer">https://www.rollupjs.com/guide/big-list-of-options</a></p><p>Rollup å¯ç”¨æ’ä»¶åˆ—è¡¨å¯ä»¥å‚è€ƒï¼š<a href="https://github.com/rollup/plugins" target="_blank" rel="noreferrer">https://github.com/rollup/plugins</a></p><h2 id="_2-ç¼–å†™å·¥å…·åº“æºç " tabindex="-1">2 ç¼–å†™å·¥å…·åº“æºç  <a class="header-anchor" href="#_2-ç¼–å†™å·¥å…·åº“æºç " aria-label="Permalink to &quot;2 ç¼–å†™å·¥å…·åº“æºç &quot;">â€‹</a></h2><p>æœ‰äº†ä»¥ä¸Šçš„åˆå§‹å·¥ç¨‹ï¼Œå°±å¯ä»¥æ­£å¼å¼€å§‹å†™å·¥å…·æ–¹æ³•æºç ã€‚</p><h3 id="_2-1-èµ°é€šæµç¨‹" tabindex="-1">2.1 èµ°é€šæµç¨‹ <a class="header-anchor" href="#_2-1-èµ°é€šæµç¨‹" aria-label="Permalink to &quot;2.1 èµ°é€šæµç¨‹&quot;">â€‹</a></h3><p>å…ˆå†™ä¸€ä¸ª demoï¼Œè·‘é€š<code>ç¼–å†™æºç </code>ã€<code>æ„å»ºæ‰“åŒ…</code>ã€<code>å¼•å…¥ä½¿ç”¨</code>çš„æµç¨‹ã€‚</p><h4 id="ç¼–å†™æºç " tabindex="-1">ç¼–å†™æºç  <a class="header-anchor" href="#ç¼–å†™æºç " aria-label="Permalink to &quot;ç¼–å†™æºç &quot;">â€‹</a></h4><p>å’±ä»¬çš„å…¥å£æ–‡ä»¶é…ç½®åœ¨äº† src/index.ts ä¸­ï¼Œæ‰€ä»¥éœ€è¦å…ˆåˆ›å»ºè¯¥æ–‡ä»¶ï¼š</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">mkdir</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">src</span></span>
<span class="line"><span style="color:#FFCB6B;">touch</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">src/index.ts</span></span></code></pre></div><p>ç„¶ååœ¨è¯¥æ–‡ä»¶ä¸­ç¼–å†™ä¸€äº›ä»£ç æµ‹è¯•ä¸‹æ‰“åŒ…æ˜¯å¦æ­£å¸¸ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hello ktools!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h4 id="æ„å»ºæ‰“åŒ…" tabindex="-1">æ„å»ºæ‰“åŒ… <a class="header-anchor" href="#æ„å»ºæ‰“åŒ…" aria-label="Permalink to &quot;æ„å»ºæ‰“åŒ…&quot;">â€‹</a></h4><p>åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¯¹é¡¹ç›®è¿›è¡Œæ‰“åŒ…ï¼š</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">rollup</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-c</span></span></code></pre></div><p>æ‰§è¡Œå®Œä¹‹åä¼šåœ¨ dist ç›®å½•ç”Ÿæˆæ‰“åŒ…æ–‡ä»¶ index.jsï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">(</span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">factory</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">define</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">function</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">define</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">amd</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">define</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">factory</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#82AAFF;">factory</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">((</span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">use strict</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">hello ktools!</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)))</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h4 id="å¼•å…¥ä½¿ç”¨" tabindex="-1">å¼•å…¥ä½¿ç”¨ <a class="header-anchor" href="#å¼•å…¥ä½¿ç”¨" aria-label="Permalink to &quot;å¼•å…¥ä½¿ç”¨&quot;">â€‹</a></h4><p>è¿™æ—¶æˆ‘ä»¬å¯ä»¥éšä¾¿åœ¨ä¸€ä¸ª Vue / React / Angular é¡¹ç›®ä¸‹å¼•å…¥è¿™ä¸ªç©ºå£³å·¥å…·åº“ï¼Œçœ‹ä¸‹æ˜¯å¦æ­£å¸¸ï¼š</p><p>æ¯”å¦‚åœ¨ Vue CLI å·¥ç¨‹çš„ src/main.js ä¸­å¢åŠ ä»¥ä¸‹ä»£ç </p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> Vue </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> App </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./App.vue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> router </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./router</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> store </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./store</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> ktools </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../index</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// æ–°å¢åŠ çš„ä»£ç ï¼Œå°†åœ¨æµè§ˆå™¨æ§åˆ¶å°è¾“å‡º&quot;hello ktools!&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">Vue</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">config</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">productionTip </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">new</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">Vue</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  router</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  store</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#82AAFF;">render</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">h</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">h</span><span style="color:#BABED8;">(App)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">$mount</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#app</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>æˆ–è€…åœ¨ Angular CLI å·¥ç¨‹ä¸­çš„ src/main.ts æ–‡ä»¶ä¸­å¢åŠ ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">enableProdMode</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@angular/core</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">platformBrowserDynamic</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@angular/platform-browser-dynamic</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">AppModule</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./app/app.module</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">environment</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./environments/environment</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> ktools </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../index</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ktools:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> ktools)</span><span style="color:#89DDFF;">;</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// å¿…é¡»åŠ è¿™ä¸ªæ‰èƒ½è¾“å‡º&quot;hello ktools!&quot;ï¼Œå› ä¸ºæ²¡æœ‰å¯¼å‡ºä»»ä½•ä¸œè¥¿ï¼Œæ‰€ä»¥æ‰“å°å‡ºæ¥çš„ktoolsæ˜¯ä¸€ä¸ªç©ºå¯¹è±¡</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> (environment</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">production) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">enableProdMode</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">platformBrowserDynamic</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">bootstrapModule</span><span style="color:#BABED8;">(AppModule)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#BABED8;">(</span><span style="color:#BABED8;font-style:italic;">err</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">error</span><span style="color:#BABED8;">(err))</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h3 id="_2-2-ç¼–å†™å·¥å…·æ–¹æ³•" tabindex="-1">2.2 ç¼–å†™å·¥å…·æ–¹æ³• <a class="header-anchor" href="#_2-2-ç¼–å†™å·¥å…·æ–¹æ³•" aria-label="Permalink to &quot;2.2 ç¼–å†™å·¥å…·æ–¹æ³•&quot;">â€‹</a></h3><p>æµç¨‹èµ°é€šä¹‹åï¼Œå°±å¯ä»¥æ­£å¼ç¼–å†™å·¥å…·æ–¹æ³•ã€‚</p><p>æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªåˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ hex åå…­è¿›åˆ¶é¢œè‰²å€¼çš„å·¥å…·æ–¹æ³•ï¼šisColorã€‚</p><p>å…ˆåˆ›å»º src/is-color.ts æ–‡ä»¶ï¼š</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">touch</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">src/is-color.ts</span></span></code></pre></div><p>å¢åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æ˜¯åå…­è¿›åˆ¶çš„é¢œè‰²å€¼</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#BABED8;font-style:italic;">value</span><span style="color:#676E95;font-style:italic;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> isColor </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">value</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#89DDFF;">):</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">boolean</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;font-style:italic;">^</span><span style="color:#C3E88D;">#</span><span style="color:#89DDFF;">([</span><span style="color:#C3E88D;">0-9a-fA-F</span><span style="color:#89DDFF;">]{6}|[</span><span style="color:#C3E88D;">0-9a-fA-F</span><span style="color:#89DDFF;">]{3})</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">test</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">value</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#BABED8;"> isColor</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>ç„¶ååœ¨index.tså…¥å£æ–‡ä»¶ä¸­å¢åŠ å¼•å…¥is-color.tsæ–‡ä»¶çš„ä»£ç ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> isColor </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./is-color</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">isColor</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div><p>é‡æ–°æ‰§è¡Œ <code>rollup -c</code> è¿›è¡Œæ„å»ºï¼Œç”Ÿæˆçš„ dist/index.js å¦‚ä¸‹ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#BABED8;">(</span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">global</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">factory</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">exports</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">object</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">module</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">undefined</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">factory</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">exports</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">define</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">function</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">define</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">amd</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">define</span><span style="color:#F07178;">([</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">exports</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">factory</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">  (</span><span style="color:#BABED8;">global</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">globalThis</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!==</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">undefined</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">?</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">globalThis</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">global</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">self</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">factory</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">global</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">ktools</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">this,</span><span style="color:#BABED8;"> (</span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">exports</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">use strict</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æ˜¯åå…­è¿›åˆ¶çš„é¢œè‰²å€¼</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   * </span><span style="color:#89DDFF;font-style:italic;">@</span><span style="color:#C792EA;font-style:italic;">param</span><span style="color:#676E95;font-style:italic;"> </span><span style="color:#BABED8;font-style:italic;">value</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   */</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">isColor</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">value</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;font-style:italic;">^</span><span style="color:#C3E88D;">#</span><span style="color:#89DDFF;">([</span><span style="color:#C3E88D;">0-9a-fA-F</span><span style="color:#89DDFF;">]{6}|[</span><span style="color:#C3E88D;">0-9a-fA-F</span><span style="color:#89DDFF;">]{3})</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">test</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">value</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">exports.</span><span style="color:#BABED8;">isColor</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">isColor</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">Object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">defineProperty</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">exports,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">__esModule</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> value</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)))</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>å†åˆ°é¡¹ç›®ä¸­å¼•å…¥ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">isColor</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../index</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">isColor #c6e48b:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">isColor</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#c6e48b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">))</span><span style="color:#89DDFF;">;</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// isColor #c6e48b: true</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">isColor #c6e48:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">isColor</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#c6e48</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">))</span><span style="color:#89DDFF;">;</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// isColor #c6e48: false</span></span></code></pre></div><p>ä¸€åˆ‡æ­£å¸¸ï¼</p><h2 id="_3-å¢åŠ æ„å»ºå‘å¸ƒè„šæœ¬" tabindex="-1">3 å¢åŠ æ„å»ºå‘å¸ƒè„šæœ¬ <a class="header-anchor" href="#_3-å¢åŠ æ„å»ºå‘å¸ƒè„šæœ¬" aria-label="Permalink to &quot;3 å¢åŠ æ„å»ºå‘å¸ƒè„šæœ¬&quot;">â€‹</a></h2><p>åˆ°è¿™é‡Œå…¶å®æˆ‘ä»¬çš„å·¥å…·åº“ <code>ktools</code> å·²ç»å®Œæˆäº† 90%ï¼Œè¿˜å·®æœ€åä¸€æ­¥ï¼Œå°±æ˜¯å‘å¸ƒåˆ° npm ä»“åº“ï¼Œå¯ä»¥æ‰‹å·¥å‘å¸ƒã€‚</p><h3 id="_3-1-æ‰‹å·¥å‘å¸ƒ" tabindex="-1">3.1 æ‰‹å·¥å‘å¸ƒ <a class="header-anchor" href="#_3-1-æ‰‹å·¥å‘å¸ƒ" aria-label="Permalink to &quot;3.1 æ‰‹å·¥å‘å¸ƒ&quot;">â€‹</a></h3><p>å°† package.json æ–‡ä»¶æ‹·è´åˆ° dist ç›®å½•ï¼Œä¿®æ”¹ version ä¸ºæœ¬æ¬¡å‘å¸ƒçš„ç‰ˆæœ¬å·ï¼Œæ¯”å¦‚ï¼š0.0.1ï¼Œç„¶åè¿›å…¥è¯¥ç›®å½•ï¼š</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">dist</span></span></code></pre></div><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯å°†æˆ‘ä»¬çš„ ktools å·¥å…·åº“å‘å¸ƒåˆ° npm ä»“åº“ï¼š</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">publish</span></span></code></pre></div><p>å¸¦ç€æ¬¢å‘¼é›€è·ƒçš„å¿ƒæƒ…ç­‰å¾…å‘å¸ƒæˆåŠŸï¼Œç»“æœæŠ¥é”™ï¼Œä»¥ä¸‹æ˜¯æŠ¥é”™ä¿¡æ¯ï¼š</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">publish</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">ğŸ“¦</span><span style="color:#BABED8;">  </span><span style="color:#C3E88D;">ktools@0.0.1</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">===</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">Tarball</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">Contents</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">===</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">315</span><span style="color:#C3E88D;">B</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">index.html</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">634</span><span style="color:#C3E88D;">B</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">index.js</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">691</span><span style="color:#C3E88D;">B</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">package.json</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">===</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">Tarball</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">Details</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">===</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">name:</span><span style="color:#BABED8;">          </span><span style="color:#C3E88D;">ktools</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">version:</span><span style="color:#BABED8;">       </span><span style="color:#F78C6C;">0.0</span><span style="color:#C3E88D;">.1</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">package</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">size:</span><span style="color:#BABED8;">  </span><span style="color:#F78C6C;">1.1</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">kB</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">unpacked</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">size:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1.6</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">kB</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">shasum:</span><span style="color:#BABED8;">        </span><span style="color:#F78C6C;">35</span><span style="color:#C3E88D;">c3501906443ff46be51c2747c07e73136bf85c</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">integrity:</span><span style="color:#BABED8;">     </span><span style="color:#C3E88D;">sha512-SZTM0msux0+Pt[...]IWmV6Gx5Tz41w==</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">total</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">files:</span><span style="color:#BABED8;">   </span><span style="color:#F78C6C;">3</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">ERR!</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">code</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">E403</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">ERR!</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">403</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">403</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">Forbidden</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">PUT</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">http://registry.npmjs.org/ktools</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">Package</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">name</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">too</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">similar</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">to</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">existing</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">packages</span><span style="color:#89DDFF;">;</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">try</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">renaming</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">your</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">package</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">to</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@kagol/ktools</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">and</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">publishing</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">with</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">npm publish --access=public</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">instead</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">ERR!</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">403</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">In</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">most</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">cases,</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">you</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">or</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">one</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">of</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">your</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">dependencies</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">are</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">requesting</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">ERR!</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">403</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">a</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">package</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">version</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">that</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">is</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">forbidden</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">by</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">your</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">security</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">policy.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">ERR!</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">A</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">complete</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">log</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">of</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">this</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">run</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">can</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">be</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">found</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">in:</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">ERR!</span><span style="color:#BABED8;">     </span><span style="color:#C3E88D;">/Users/kagol/.npm/_logs/2020-12-05T05_42_31_632Z-debug.log</span></span></code></pre></div><p>çœ‹æç¤ºä¼¼ä¹æ˜¯åŒ…åé‡å¤ï¼Œæç¤ºé‡Œè¿˜å¾ˆå‹å¥½åœ°å»ºè®®å…ˆé‡å‘½ååŒ…åä¸º <code>@kagol/ktools</code>ï¼Œç„¶åå†å‘å¸ƒã€‚</p><p>é‚£æˆ‘ä»¬å°±æŒ‰ç…§æç¤ºå°è¯•ä¸‹æ”¹ä¸ªåå­—å§ï¼ŒåŠ ä¸ªscopeï¼š</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ktools</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">-&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">@kagol/ktools</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">,</span></span></code></pre></div><p>æ”¹å®Œåå­—é‡æ–°å‘å¸ƒï¼ŒæˆåŠŸå•¦ï¼</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">publish</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">ğŸ“¦</span><span style="color:#BABED8;">  </span><span style="color:#C3E88D;">@kagol/ktools@0.0.1</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">===</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">Tarball</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">Contents</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">===</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">22.0</span><span style="color:#C3E88D;">kB</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">index.js</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1.2</span><span style="color:#C3E88D;">kB</span><span style="color:#BABED8;">  </span><span style="color:#C3E88D;">package.json</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1.8</span><span style="color:#C3E88D;">kB</span><span style="color:#BABED8;">  </span><span style="color:#C3E88D;">README.md</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">===</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">Tarball</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">Details</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">===</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">name:</span><span style="color:#BABED8;">          </span><span style="color:#C3E88D;">@kagol/ktools</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">version:</span><span style="color:#BABED8;">       </span><span style="color:#F78C6C;">0.0</span><span style="color:#C3E88D;">.1</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">package</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">size:</span><span style="color:#BABED8;">  </span><span style="color:#F78C6C;">6.9</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">kB</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">unpacked</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">size:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">25.0</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">kB</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">shasum:</span><span style="color:#BABED8;">        </span><span style="color:#C3E88D;">d85994aecc86160862cef4f0033e5bfdaa136072</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">integrity:</span><span style="color:#BABED8;">     </span><span style="color:#C3E88D;">sha512-UEDEJEsMSXcMg[...]yY4KsXp4mXIBA==</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">total</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">files:</span><span style="color:#BABED8;">   </span><span style="color:#F78C6C;">3</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">notice</span></span>
<span class="line"><span style="color:#FFCB6B;">+</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">@kagol/ktools@0.0.1</span></span></code></pre></div><p>è¿™æ—¶å¯ä»¥åœ¨é¡¹ç›®ä¸­æ­£å¼å®‰è£…å¹¶å¼•å…¥ä½¿ç”¨ã€‚</p><p>å…ˆå®‰è£…ï¼š</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">i</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">@kagol/ktools</span></span></code></pre></div><p>ä½¿ç”¨æ–¹å¼å’Œä¹‹å‰çš„ä¸€æ ·ï¼Œåªæ˜¯éœ€è¦ä¿®æ”¹å¼•å…¥æ–¹å¼ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">isColor</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@kagol/ktools</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">isColor #c6e48b:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">isColor</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#c6e48b</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">))</span><span style="color:#89DDFF;">;</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// isColor #c6e48b: true</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">isColor #c6e48:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">isColor</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#c6e48</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">))</span><span style="color:#89DDFF;">;</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// isColor #c6e48: false</span></span></code></pre></div><h3 id="_3-2-é€šè¿‡è„šæœ¬å‘å¸ƒ" tabindex="-1">3.2 é€šè¿‡è„šæœ¬å‘å¸ƒ <a class="header-anchor" href="#_3-2-é€šè¿‡è„šæœ¬å‘å¸ƒ" aria-label="Permalink to &quot;3.2 é€šè¿‡è„šæœ¬å‘å¸ƒ&quot;">â€‹</a></h3><p>æ¯æ¬¡å‘å¸ƒè¿˜è¦å°†æ–‡ä»¶æ‹·è´æ¥æ‹·è´å»ï¼Œåˆè¦ä¿®æ”¹åŒ…åï¼Œåˆè¦æ”¹ç‰ˆæœ¬å·ï¼Œå¾ˆéº»çƒ¦ï¼Œå¯ä»¥ç¼–å†™è„šæœ¬å°†è¿™ä¸ªè¿‡ç¨‹è‡ªåŠ¨åŒ–ã€‚</p><p>ä¸»è¦åˆ†ä»¥ä¸‹æ­¥éª¤ï¼š</p><ol><li>æ‹·è´æ–‡ä»¶</li><li>ä¿®æ”¹æ–‡ä»¶</li><li>å‘å¸ƒ</li></ol><h4 id="step-1-æ‹·è´æ–‡ä»¶" tabindex="-1">Step 1: æ‹·è´æ–‡ä»¶ <a class="header-anchor" href="#step-1-æ‹·è´æ–‡ä»¶" aria-label="Permalink to &quot;Step 1: æ‹·è´æ–‡ä»¶&quot;">â€‹</a></h4><p>åœ¨ package.json çš„ scripts ä¸­å¢åŠ æ‹·è´æ–‡ä»¶çš„è„šæœ¬ï¼š</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">&quot;copy&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cp package.json README.md dist</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span></code></pre></div><h4 id="step-2-ä¿®æ”¹æ–‡ä»¶" tabindex="-1">Step 2: ä¿®æ”¹æ–‡ä»¶ <a class="header-anchor" href="#step-2-ä¿®æ”¹æ–‡ä»¶" aria-label="Permalink to &quot;Step 2: ä¿®æ”¹æ–‡ä»¶&quot;">â€‹</a></h4><p>æ–°å»º scripts/publish.js æ–‡ä»¶ï¼Œå¢åŠ ä»¥ä¸‹å†…å®¹ï¼š</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> path </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">require</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">path</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> shelljs </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">require</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">shelljs</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> program </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">require</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">commander</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> targetFile </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> path</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">resolve</span><span style="color:#BABED8;">(__dirname</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../dist/package.json</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> packagejson </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">require</span><span style="color:#BABED8;">(targetFile)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> currentVersion </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> packagejson</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">version</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> versionArr </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> currentVersion</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#BABED8;">mainVersion</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> subVersion</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> phaseVersion</span><span style="color:#89DDFF;">]</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> versionArr</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// é»˜è®¤ç‰ˆæœ¬å·</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> defaultVersion </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#BABED8;">mainVersion</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">\${</span><span style="color:#BABED8;">subVersion</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">.</span><span style="color:#89DDFF;">\${</span><span style="color:#89DDFF;">+</span><span style="color:#BABED8;">phaseVersion</span><span style="color:#89DDFF;">+</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">}\`</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#BABED8;"> newVersion </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> defaultVersion</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// ä»å‘½ä»¤è¡Œå‚æ•°ä¸­å–ç‰ˆæœ¬å·</span></span>
<span class="line"><span style="color:#BABED8;">program</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">option</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">-v, --versions &lt;type&gt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Add release version number</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> defaultVersion)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">program</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">parse</span><span style="color:#BABED8;">(process</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">argv)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> (program</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">versions) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">newVersion</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">program</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">versions</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">publish</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">shelljs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sed</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">-i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&quot;name&quot;: &quot;ktools&quot;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">&quot;name&quot;: &quot;@kagol/ktools&quot;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">targetFile</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// ä¿®æ”¹åŒ…å</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">shelljs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sed</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">-i</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">&quot;version&quot;: &quot;</span><span style="color:#89DDFF;">\${</span><span style="color:#BABED8;">currentVersion</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">&quot;</span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">&quot;version&quot;: &quot;</span><span style="color:#89DDFF;">\${</span><span style="color:#BABED8;">newVersion</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">&quot;</span><span style="color:#89DDFF;">\`</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">targetFile</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// ä¿®æ”¹ç‰ˆæœ¬å·</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">shelljs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">cd</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">dist</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">shelljs</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">exec</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">npm publish</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// å‘å¸ƒ</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">publish</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>è¿™é‡Œæœ€æ ¸å¿ƒçš„ä¸¤æ­¥ï¼š</p><ol><li>ä¿®æ”¹åŒ…å</li><li>è·å–æ­£ç¡®çš„ç‰ˆæœ¬å·å¹¶ä¿®æ”¹</li></ol><p>å…¶ä¸­ä¿®æ”¹æ–‡ä»¶ä½¿ç”¨ shelljs åº“ï¼Œè·å–ç‰ˆæœ¬å·å‚æ•°ä½¿ç”¨äº† <a href="https://github.com/tj" target="_blank" rel="noreferrer">TJ</a> å¤§ç¥çš„ <a href="https://github.com/tj/commander.js" target="_blank" rel="noreferrer">commander</a> å·¥å…·ã€‚</p><p>éœ€è¦æå‰å®‰è£…è¿™ä¸¤ä¸ªä¾èµ–åº“ï¼š</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">i</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-D</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">shelljs</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">commander</span></span></code></pre></div><p>å¦å¤–éœ€è¦åœ¨ package.json ä¸­å¢åŠ æ„å»ºçš„è„šæœ¬å‘½ä»¤ï¼š</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">build</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rollup -c &amp;&amp; npm run copy</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">,</span></span></code></pre></div><h4 id="step-3-å‘å¸ƒ" tabindex="-1">Step 3: å‘å¸ƒ <a class="header-anchor" href="#step-3-å‘å¸ƒ" aria-label="Permalink to &quot;Step 3: å‘å¸ƒ&quot;">â€‹</a></h4><p>å‘å¸ƒçš„æ­¥éª¤æ¯”è¾ƒç®€å•ï¼Œå·²ç»æ”¾åœ¨ publish.js è„šæœ¬æ–‡ä»¶ä¸­ã€‚</p><p>æ¯æ¬¡å‘å¸ƒåªéœ€è¦ä¾æ¬¡è¿è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼š</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">run</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">build</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">run</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">publish</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-v</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.0</span><span style="color:#C3E88D;">.2</span></span></code></pre></div><p>åç»­å¯ä»¥è€ƒè™‘å°†å…¶é›†æˆåˆ°æµæ°´çº¿ï¼Œå®ç°å®Œå…¨çš„è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œè¿™é‡Œå¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰å†™çš„ä¸€ç¯‡æ–‡ç« ï¼š<a href="https://juejin.cn/post/6887961766170066951" target="_blank" rel="noreferrer">å¤§å‚æ˜¯å¦‚ä½•ç”¨DevCloudæµæ°´çº¿å®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²Webåº”ç”¨çš„ï¼Ÿ</a></p><h2 id="_4-å°ç»“" tabindex="-1">4 å°ç»“ <a class="header-anchor" href="#_4-å°ç»“" aria-label="Permalink to &quot;4 å°ç»“&quot;">â€‹</a></h2><p>æœ¬æ–‡è¯¦ç»†åœ°ä»‹ç»äº†ä½¿ç”¨ Rollup + TypeScript æ‰“é€ ä¸€ä¸ªå¼€æºå·¥å…·åº“çš„æµç¨‹å’Œæ­¥éª¤ï¼Œå¹¶ä»‹ç»å¦‚ä½•é…ç½® Rollup å’Œ TypeScriptï¼Œå¦‚ä½•ç¼–å†™éƒ¨ç½²è„šæœ¬è‡ªåŠ¨åŒ–å‘å¸ƒå·¥å…·åº“åˆ° npm ä»“åº“ã€‚å¸Œæœ›å¤§å®¶å–œæ¬¢ï¼Œå¹¶æ¬¢è¿ç»™ä¸ª Star ğŸŒŸ é¼“åŠ±ï¼Œä»¥ä¸‹æ˜¯ ktools å·¥å…·åº“çš„æºç åœ°å€ï¼š</p><p><a href="https://github.com/kagol/ktools" target="_blank" rel="noreferrer">https://github.com/kagol/ktools</a></p>`,158);function B(E,A,C,u,d,h){const s=n("EditInfo");return l(),o("div",null,[i,p(s,{time:"2020å¹´12æœˆ05æ—¥ 14:45",title:"é˜…è¯» 3588 Â· ç‚¹èµ 75 Â· è¯„è®º 14 Â· æ”¶è— 98"})])}const f=a(F,[["render",B]]);export{m as __pageData,f as default};
